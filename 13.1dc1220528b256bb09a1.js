(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Sa0y:function(t,e,n){"use strict";n.r(e),n.d(e,"AskModule",function(){return P});var o=n("ofXK"),i=n("tyNb"),s=n("mrSG"),r=n("fXoL"),a=n("6/gD"),c=n("UbJi"),b=n("I/3d");let l=(()=>{class t{constructor(t){this._af=t}addQuestion(t){const e=this._af.createId();this._af.doc("questions/"+e).set(Object.assign(Object.assign({},t),{id:e}))}getAllOrderedByTags(){return this._af.collection("questions",t=>t.orderBy("tag","desc")).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(b.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("TEn/"),u=n("3Pt+");const h=["img"];function d(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ion-col",23,24),r.Kb(2,"ion-img",25),r.Ob(3,"ion-icon",26),r.Wb("click",function(){r.hc(t);const n=e.index;return r.Yb().delete(n)}),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.zb(2),r.ec("src",t.webPath)}}function p(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ion-item",6),r.Wb("click",function(){r.hc(t);const n=e.$implicit,o=r.Yb(),i=r.gc(51);return o.selected(n,i)}),r.qc(1),r.Nb()}if(2&t){const t=e.$implicit;r.zb(1),r.sc(" ",t," ")}}let m=(()=>{class t{constructor(t,e,n,o,i){this._photoService=t,this._auth=e,this._questionService=n,this._router=o,this.alertController=i,this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"],this.items=[],this.categories=[]}ngOnInit(){}inputChanged(t){const e=t.target.value;this.items=e.length<=0?[]:this.tags.filter(t=>t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))}selected(t,e){e.value="",this.selectedTag=t,this.items=[]}addCategory(t){var e;const n=t.detail.value,o=t.detail.checked;void 0===(null===(e=this.categories)||void 0===e?void 0:e.find(t=>t===n))&&o?this.categories.push(n):this.categories=this.categories.filter(t=>t!==n)}delete(t){console.log("photos before delete",this.photos),console.log("service photos before delete",this._photoService.photos),0===t?(this.photos.shift(),this._photoService.photos.shift()):(this.photos=this.photos.splice(t,1),this._photoService.photos=this._photoService.photos.splice(t,1)),this.imgs.toArray()[0].el.style.display="none",console.log("index",t),console.log("photos after delete",this.photos),console.log("service photos after delete",this._photoService.photos)}addImageUrl(){return Object(s.b)(this,void 0,void 0,function*(){yield this._photoService.addNewToGallery(),this.photos=this._photoService.photos,console.log("---\x3e",this.photos)})}onClick(){return Object(s.b)(this,void 0,void 0,function*(){const{uid:t=null}=yield this._auth.currentUser,e=yield this._photoService.getGaleryURL();!this.selectedTag||this.categories.length<0||""===this.textQuestion||this.photos.length<0?this.showAlert():(this._questionService.addQuestion({uid:t,tag:this.selectedTag,categories:this.categories,text:this.textQuestion,photosURL:e,date:new Date}),this.photos=[],this._photoService.photos=[],this._router.navigate(["ask"]))})}showAlert(){this.alertController.create({header:"Alert",subHeader:"Question form not completed",message:"Please fill all fields",buttons:["OK"]}).then(t=>{t.present()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a.a),r.Jb(c.a),r.Jb(l),r.Jb(i.e),r.Jb(g.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-add-question"]],viewQuery:function(t,e){if(1&t&&r.uc(h,!0),2&t){let t;r.fc(t=r.Xb())&&(e.imgs=t)}},decls:54,vars:5,consts:[[1,"ion-no-padding"],["slot","start"],["defaultHref","ask","text",""],[1,"ion-padding"],[1,"ion-text-capitalize"],["slot","end"],[3,"click"],["slot","start","name","add"],["size","2"],["slot","icon-only","name","camera"],["size","10"],["position","stacked"],["rows","3","cols","20","placeholder","Enter your question here...","required","",3,"ngModel","ngModelChange"],["size","6",4,"ngFor","ngForOf"],["size","12"],["value","biologique",3,"ionChange"],["value","paramedical",3,"ionChange"],["value","industriel",3,"ionChange"],["value","artisanal",3,"ionChange"],["type","text",3,"ngModel","ngModelChange","ionInput"],["inputTag",""],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["size","6"],["img",""],[3,"src"],["color","light","name","trash-outline",1,"icon1-img",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"ion-header"),r.Ob(1,"ion-toolbar",0),r.Ob(2,"ion-buttons",1),r.Kb(3,"ion-back-button",2),r.Nb(),r.Ob(4,"ion-title",3),r.Ob(5,"h1",4),r.qc(6,"Add question"),r.Nb(),r.Nb(),r.Ob(7,"ion-buttons",5),r.Ob(8,"ion-button",6),r.Wb("click",function(){return e.onClick()}),r.Kb(9,"ion-icon",7),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(10,"ion-content"),r.Ob(11,"ion-grid"),r.Ob(12,"ion-row"),r.Ob(13,"ion-col",8),r.Ob(14,"ion-button",6),r.Wb("click",function(){return e.addImageUrl()}),r.Kb(15,"ion-icon",9),r.Nb(),r.Nb(),r.Ob(16,"ion-col",10),r.Ob(17,"ion-item"),r.Ob(18,"ion-label",11),r.qc(19,"Question"),r.Nb(),r.Ob(20,"ion-textarea",12),r.Wb("ngModelChange",function(t){return e.textQuestion=t}),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(21,"ion-row"),r.oc(22,d,4,1,"ion-col",13),r.Nb(),r.Ob(23,"ion-row"),r.Ob(24,"ion-col",14),r.Ob(25,"ion-list"),r.Ob(26,"ion-list-header"),r.Ob(27,"ion-label"),r.qc(28,"Category interest"),r.Nb(),r.Nb(),r.Ob(29,"ion-item"),r.Ob(30,"ion-label"),r.qc(31,"Biologique"),r.Nb(),r.Ob(32,"ion-checkbox",15),r.Wb("ionChange",function(t){return e.addCategory(t)}),r.Nb(),r.Nb(),r.Ob(33,"ion-item"),r.Ob(34,"ion-label"),r.qc(35,"Paramedical"),r.Nb(),r.Ob(36,"ion-checkbox",16),r.Wb("ionChange",function(t){return e.addCategory(t)}),r.Nb(),r.Nb(),r.Ob(37,"ion-item"),r.Ob(38,"ion-label"),r.qc(39,"Industriel"),r.Nb(),r.Ob(40,"ion-checkbox",17),r.Wb("ionChange",function(t){return e.addCategory(t)}),r.Nb(),r.Nb(),r.Ob(41,"ion-item"),r.Ob(42,"ion-label"),r.qc(43,"Artisanal"),r.Nb(),r.Ob(44,"ion-checkbox",18),r.Wb("ionChange",function(t){return e.addCategory(t)}),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(45,"ion-row"),r.Ob(46,"ion-col",14),r.Ob(47,"ion-item"),r.Ob(48,"ion-label",11),r.qc(49,"Select tag"),r.Nb(),r.Ob(50,"ion-input",19,20),r.Wb("ngModelChange",function(t){return e.selectedTag=t})("ionInput",function(t){return e.inputChanged(t)}),r.Nb(),r.Ob(52,"ion-list",21),r.oc(53,p,2,1,"ion-item",22),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(20),r.ec("ngModel",e.textQuestion),r.zb(2),r.ec("ngForOf",e.photos),r.zb(28),r.ec("ngModel",e.selectedTag),r.zb(2),r.ec("hidden",e.items.length<=0),r.zb(1),r.ec("ngForOf",e.items))},directives:[g.t,g.V,g.i,g.f,g.g,g.U,g.h,g.u,g.q,g.s,g.G,g.p,g.z,g.B,g.S,g.db,u.k,u.g,u.i,o.j,g.C,g.D,g.n,g.c,g.y,g.v],styles:['ion-img[_ngcontent-%COMP%]{position:relative}ion-icon.icon1-img[_ngcontent-%COMP%]{position:absolute;bottom:5%;left:5%;opacity:.5;background-color:#000;border-radius:50%;font-size:18px}ion-img[src=""][_ngcontent-%COMP%]{display:none}']}),t})();var O=n("qfBg"),f=n("n4ln");let N=(()=>{class t{transform(t,e){return t?t.filter(t=>t.tag===e):[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"filterByTag",type:t,pure:!0}),t})();var x=n("SxV6");let v=(()=>{class t{constructor(t){this._userService=t}transform(t){return Object(s.b)(this,void 0,void 0,function*(){const{username:e=null}=yield this._userService.getByUid(t).pipe(Object(x.a)()).toPromise();return e})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(O.a))},t.\u0275pipe=r.Ib({name:"username",type:t,pure:!0}),t})();var y=n("nyhg");function C(t,e){if(1&t&&(r.Ob(0,"ion-item",11),r.Ob(1,"ion-avatar",12),r.Kb(2,"img",13),r.Nb(),r.Ob(3,"ion-label",14),r.Ob(4,"p"),r.qc(5),r.Nb(),r.Ob(6,"p"),r.qc(7),r.Zb(8,"async"),r.Zb(9,"category"),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.zb(2),r.ec("src",t.photoUrl,r.jc),r.zb(3),r.rc(t.username),r.zb(2),r.rc(r.ac(8,3,r.ac(9,5,t.categoryId)))}}function q(t,e){if(1&t&&(r.Ob(0,"ion-col",21),r.Ob(1,"ion-card",0),r.Ob(2,"ion-card-content",0),r.Kb(3,"img",22),r.Ob(4,"ion-item",23),r.Ob(5,"div",24),r.Ob(6,"ion-text",5),r.Ob(7,"h4"),r.Ob(8,"b"),r.qc(9),r.Nb(),r.Nb(),r.Nb(),r.Ob(10,"ion-text",25),r.Ob(11,"p"),r.Ob(12,"b"),r.qc(13),r.Zb(14,"async"),r.Zb(15,"username"),r.Nb(),r.Nb(),r.Nb(),r.Ob(16,"ion-text"),r.Ob(17,"ion-text",26),r.Ob(18,"p"),r.qc(19),r.Zb(20,"dayJS"),r.Ob(21,"span",27),r.Kb(22,"ion-icon",28),r.qc(23,"nb"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.zb(3),r.ec("src",null==t?null:t.photosURL[0],r.jc),r.zb(6),r.rc(null==t?null:t.text),r.zb(4),r.rc(r.ac(14,4,r.ac(15,6,null==t?null:t.uid))),r.zb(6),r.sc("",r.bc(20,8,null==t?null:t.date.toDate(),"fromNow")," ")}}function w(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"ion-list-header",3),r.Ob(2,"ion-label",16),r.qc(3),r.Nb(),r.Ob(4,"ion-button",17),r.Kb(5,"ion-icon",18),r.qc(6,"See All"),r.Nb(),r.Nb(),r.Ob(7,"ion-row",19),r.oc(8,q,24,11,"ion-col",20),r.Zb(9,"filterByTag"),r.Zb(10,"async"),r.Nb(),r.Lb()),2&t){const t=r.Yb().$implicit,e=r.Yb();r.zb(3),r.rc(t),r.zb(5),r.ec("ngForOf",r.bc(9,2,r.ac(10,5,e.questions$),t))}}function _(t,e){if(1&t&&(r.Mb(0),r.oc(1,w,11,7,"ng-container",15),r.Zb(2,"filterByTag"),r.Zb(3,"async"),r.Lb()),2&t){const t=e.$implicit,n=r.Yb();let o=null;r.zb(1),r.ec("ngIf",(null==(o=r.bc(2,1,r.ac(3,4,n.questions$),t))?null:o.length)>0)}}const z=[{path:"",component:(()=>{class t{constructor(t,e){this._questionService=t,this._userService=e,this.proUsers=[{username:"Bret",imageUrl:"1.jpg"},{username:"Antonette",imageUrl:"2.jpg"},{username:"Samantha",imageUrl:"3.jpg"},{username:"Karianne",imageUrl:"4.jpg"},{username:"Kamren",imageUrl:"5.jpg"}],this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"]}ngOnInit(){this.questions$=this._questionService.getAllOrderedByTags(),this.proUsers$=this._userService.getAllPro()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(l),r.Jb(O.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-ask"]],decls:20,vars:4,consts:[[1,"ion-no-padding"],[1,"ion-text-capitalize"],["size","12",1,"ion-no-padding"],[1,"ion-no-margin"],[1,"label"],[1,"ion-padding-bottom"],["lines","none","class","ion-text-center ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-padding-bottom"],["size","12"],["color","primary","routerLink","question","fill","outline"],[4,"ngFor","ngForOf"],["lines","none",1,"ion-text-center","ion-no-padding"],["slot","start"],[3,"src"],[1,"ion-padding-top"],[4,"ngIf"],[1,"label","ion-text-capitalize"],["color","light","size","small"],["slot","end","name","chevron-forward-outline"],[1,"ion-no-padding","ion-no-margin"],["size","6",4,"ngFor","ngForOf"],["size","6"],[1,"img-wrapper",3,"src"],["lines","none",1,"ion-no-padding","itemQuestion"],[1,"ion-text-start"],["color","primary",1,"ion-padding-bottom"],["color","medium",1,"questionDate"],[1,"questionNbComments"],["name","chatbubble-outline"]],template:function(t,e){1&t&&(r.Ob(0,"ion-header"),r.Ob(1,"ion-toolbar",0),r.Ob(2,"ion-title",0),r.Ob(3,"h1",1),r.qc(4,"Truth on Cosmetic"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(5,"ion-content"),r.Ob(6,"ion-grid",0),r.Ob(7,"ion-row",0),r.Ob(8,"ion-col",2),r.Ob(9,"ion-list-header",3),r.Ob(10,"ion-label",4),r.qc(11,"Professionels"),r.Nb(),r.Nb(),r.Ob(12,"ion-list",5),r.oc(13,C,10,7,"ion-item",6),r.Zb(14,"async"),r.Nb(),r.Nb(),r.Nb(),r.Ob(15,"ion-row",7),r.Ob(16,"ion-col",8),r.Ob(17,"ion-button",9),r.qc(18," Ask for recommendation "),r.Nb(),r.Nb(),r.Nb(),r.oc(19,_,4,6,"ng-container",10),r.Nb(),r.Nb()),2&t&&(r.zb(13),r.ec("ngForOf",r.ac(14,2,e.proUsers$)),r.zb(6),r.ec("ngForOf",e.tags))},directives:[g.t,g.V,g.U,g.q,g.s,g.G,g.p,g.D,g.B,g.C,o.j,g.h,i.f,g.bb,g.z,g.e,o.k,g.u,g.j,g.k,g.R],pipes:[o.b,f.a,N,v,y.a],styles:["ion-list[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:scroll}ion-item[_ngcontent-%COMP%]{width:100px;display:inline-block}ion-avatar[_ngcontent-%COMP%]{position:absolute;width:80px;height:80px;margin-right:0;border:3px solid #fff}ion-label[_ngcontent-%COMP%]{margin-top:100px;font-size:18px;font-weight:100}p[_ngcontent-%COMP%]{font-size:11px;text-align:center;margin:4px 0 0;font-weight:600}.img-wrapper[_ngcontent-%COMP%]{width:100%;height:100px;max-height:300px}.label[_ngcontent-%COMP%]{margin-top:16px!important}.padding-bottom[_ngcontent-%COMP%]{--padding-bottom:16px!important}.itemQuestion[_ngcontent-%COMP%]{--padding-start:6px;min-width:100%!important;width:100%!important;max-width:100%!important}.itemQuestion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;text-transform:capitalize}ion-card[_ngcontent-%COMP%]{height:200px}ion-list-header[_ngcontent-%COMP%]{padding-bottom:0;background:var(--ion-color-new);vertical-align:center;height:20px}.questionDate[_ngcontent-%COMP%]{text-align:left;line-height:1.5em}.questionNbComments[_ngcontent-%COMP%]{text-align:right;padding-left:50px;line-height:1.5em}"]}),t})()},{path:"question",component:m}];let k=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(z)],i.g]}),t})();var M=n("PCNd");let P=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[o.c,k,g.W,u.d,M.a]]}),t})()}}]);
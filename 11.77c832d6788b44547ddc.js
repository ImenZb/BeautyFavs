(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/m2M":function(t,e,n){"use strict";n.r(e),n.d(e,"TabsModule",function(){return b});var i=n("ofXK"),o=n("tyNb"),r=n("mrSG"),s=n("81uL"),a=n("fXoL"),c=n("TEn/");const u=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t}ngOnInit(){}openModal(){return Object(r.b)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:s.a,componentProps:{productName:"",productImg:""},cssClass:"modal"});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(c.Y))},t.\u0275cmp=a.Db({type:t,selectors:[["app-tabs"]],decls:23,vars:0,consts:[["slot","bottom"],["tab","home"],["name","home"],["tab","search"],["name","search"],["tab","ask",1,"askTab"],["name","help",1,"askIcon"],["tab","notif"],["name","notifications-circle-outline"],["tab","profil"],["name","person-circle-outline"]],template:function(t,e){1&t&&(a.Ob(0,"ion-tabs"),a.Ob(1,"ion-tab-bar",0),a.Ob(2,"ion-tab-button",1),a.Kb(3,"ion-icon",2),a.Ob(4,"ion-label"),a.rc(5,"Home"),a.Nb(),a.Nb(),a.Ob(6,"ion-tab-button",3),a.Kb(7,"ion-icon",4),a.Ob(8,"ion-label"),a.rc(9,"Search"),a.Nb(),a.Nb(),a.Ob(10,"ion-tab-button",5),a.Kb(11,"ion-icon",6),a.Ob(12,"ion-text"),a.Ob(13,"ion-label"),a.rc(14,"Ask"),a.Nb(),a.Nb(),a.Nb(),a.Ob(15,"ion-tab-button",7),a.Kb(16,"ion-icon",8),a.Ob(17,"ion-label"),a.rc(18,"Notifications"),a.Nb(),a.Nb(),a.Ob(19,"ion-tab-button",9),a.Kb(20,"ion-icon",10),a.Ob(21,"ion-label"),a.rc(22,"Profil"),a.Nb(),a.Nb(),a.Nb(),a.Nb())},directives:[c.Q,c.O,c.P,c.u,c.B,c.R],styles:["ion-tab-bar[_ngcontent-%COMP%]{--color-selected:var(--ion-color-primary,#3880ff)}.askTab[_ngcontent-%COMP%]{height:70px;border-radius:50%;background:#fff;z-index:100;max-width:70px;color:var(--ion-color-primary,#3880ff);border:4px solid var(--ion-color-primary,#3880ff);margin-top:-18px}ion-tab-bar[_ngcontent-%COMP%]{contain:none}"]}),t})(),children:[{path:"home",loadChildren:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"fOOd")).then(t=>t.HomeModule)},{path:"search",loadChildren:()=>n.e(21).then(n.bind(null,"Wlq6")).then(t=>t.SearchModule)},{path:"detail",loadChildren:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"FSlI")).then(t=>t.DetailModule)},{path:"profil",loadChildren:()=>Promise.all([n.e(0),n.e(19)]).then(n.bind(null,"L+dR")).then(t=>t.ProfilModule)},{path:"add",loadChildren:()=>n.e(12).then(n.bind(null,"IZC+")).then(t=>t.AddProductModule)},{path:"ask",loadChildren:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"Sa0y")).then(t=>t.AskModule)},{path:"notif",loadChildren:()=>n.e(18).then(n.bind(null,"f3+/")).then(t=>t.NotificationsModule)},{path:"",redirectTo:"home",pathMatch:"full"}]}];let l=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(u)],o.g]}),t})();var d=n("PCNd");let b=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[i.c,c.W,l,d.a]]}),t})()},"81uL":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("mrSG"),o=n("3Pt+"),r=n("fXoL"),s=n("TEn/"),a=n("eDGZ"),c=n("ENZJ"),u=n("UbJi"),l=n("I/3d"),d=n("ofXK");function b(t,e){if(1&t&&(r.Ob(0,"ion-thumbnail",22),r.Kb(1,"ion-img",23),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.ec("src",t.productImg)}}function h(t,e){1&t&&r.Kb(0,"ion-icon",24)}function p(t,e){1&t&&r.Kb(0,"ion-icon",25)}function f(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ion-item",26),r.Wb("click",function(){r.ic(t);const n=e.$implicit,i=r.Yb(),o=r.hc(30);return i.selected(n,o)}),r.rc(1),r.Nb()}if(2&t){const t=e.$implicit;r.zb(1),r.tc(" ",t," ")}}let m=(()=>{class t{constructor(t,e,n,i,o,r){this.modatCtrl=t,this._formBuilder=e,this._productListService=n,this._postService=i,this._auth=o,this._af=r,this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"],this.items=[]}ngOnInit(){return Object(i.b)(this,void 0,void 0,function*(){this.form=this._formBuilder.group({product_name:[this.productName,o.l.required],feed:["",o.l.required],brand:["",o.l.required],tag:["",o.l.required],category:["",o.l.required]}),this.user=yield this._auth.currentUser})}inputChanged(t){const e=t.target.value;this.items=e.length<=0?[]:this.tags.filter(t=>t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))}selected(t,e){e.value="",this.form.patchValue({tag:t}),this.items=[]}onSubmit(){var t;const e=this._af.createId(),n=this.form.get("feed").value,i=this.form.get("product_name").value,o=this.form.get("tag").value,r=this.form.get("category").value,s=this.form.get("brand").value,a=new Date,c={uid:null===(t=this.user)||void 0===t?void 0:t.uid,productId:e,body:n,date:a};this._productListService.create({id:e,product_name:i,brand:s,tag:o,category:r,created_datetime:a,image_url:this.productImg,likes:0}),this._postService.save(c),this.modatCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s.Y),r.Jb(o.a),r.Jb(a.a),r.Jb(c.a),r.Jb(u.a),r.Jb(l.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-modal-add"]],inputs:{productName:"productName",productImg:"productImg"},decls:47,vars:6,consts:[[3,"formGroup","ngSubmit"],["fill","clear","size","small",1,"close",3,"click"],["color","medium","name","close"],[1,"ion-no-padding","ion-no-margin"],["slot","start",4,"ngIf"],["position","floating",1,"ion-no-padding","ion-no-margin"],["formControlName","product_name","type","text",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","camera-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["color","primary","slot","end","name","image-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["position","floating"],["formControlName","feed","type","text"],["formControlName","brand","type","text"],["formControlName","tag","type","text",3,"ionInput"],["inputTag",""],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["formControlName","category","value","","okText","Okay","cancelText","Dismiss"],["value","industriel"],["value","biologique"],["value","artisanal"],["value","paramedical"],["expand","block","size","medium","color","medium","type","submit",1,"postBtn"],["slot","start"],[3,"src"],["color","primary","slot","end","name","camera-outline",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","image-outline",1,"ion-no-padding","ion-no-margin"],[3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"ion-content"),r.Ob(1,"form",0),r.Wb("ngSubmit",function(){return e.onSubmit()}),r.Ob(2,"ion-grid"),r.Ob(3,"ion-row"),r.Ob(4,"ion-card"),r.Ob(5,"ion-card-header"),r.Ob(6,"ion-card-title"),r.rc(7,"Add a feed"),r.Nb(),r.Ob(8,"ion-button",1),r.Wb("click",function(){return e.modatCtrl.dismiss()}),r.Kb(9,"ion-icon",2),r.Nb(),r.Nb(),r.Ob(10,"ion-card-content"),r.Ob(11,"ion-item",3),r.pc(12,b,2,1,"ion-thumbnail",4),r.Ob(13,"ion-label",5),r.rc(14," Product "),r.Nb(),r.Kb(15,"ion-input",6),r.pc(16,h,1,0,"ion-icon",7),r.pc(17,p,1,0,"ion-icon",8),r.Nb(),r.Ob(18,"ion-item",3),r.Ob(19,"ion-label",9),r.rc(20,"Feed"),r.Nb(),r.Kb(21,"ion-input",10),r.Nb(),r.Ob(22,"ion-item",3),r.Ob(23,"ion-label",9),r.rc(24,"Brand"),r.Nb(),r.Kb(25,"ion-input",11),r.Nb(),r.Ob(26,"ion-item",3),r.Ob(27,"ion-label",9),r.rc(28,"Select tag"),r.Nb(),r.Ob(29,"ion-input",12,13),r.Wb("ionInput",function(t){return e.inputChanged(t)}),r.Nb(),r.Ob(31,"ion-list",14),r.pc(32,f,2,1,"ion-item",15),r.Nb(),r.Nb(),r.Ob(33,"ion-item",3),r.Ob(34,"ion-label",9),r.rc(35,"Category"),r.Nb(),r.Ob(36,"ion-select",16),r.Ob(37,"ion-select-option",17),r.rc(38,"industriel"),r.Nb(),r.Ob(39,"ion-select-option",18),r.rc(40,"biologique"),r.Nb(),r.Ob(41,"ion-select-option",19),r.rc(42,"artisanal"),r.Nb(),r.Ob(43,"ion-select-option",20),r.rc(44,"param\xe9dical"),r.Nb(),r.Nb(),r.Nb(),r.Ob(45,"ion-button",21),r.rc(46," Post "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.ec("formGroup",e.form),r.zb(11),r.ec("ngIf",""!==e.productImg),r.zb(4),r.ec("ngIf",""===e.productImg),r.zb(1),r.ec("ngIf",""===e.productImg),r.zb(14),r.ec("hidden",e.items.length<=0),r.zb(1),r.ec("ngForOf",e.items))},directives:[s.q,o.m,o.h,o.c,s.s,s.G,s.j,s.l,s.m,s.h,s.u,s.k,s.z,d.j,s.B,s.y,s.cb,o.g,o.b,s.C,d.i,s.K,s.bb,s.L,s.T,s.v],styles:["ion-card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.5);background:var(--ion-color-light)}ion-label[_ngcontent-%COMP%]{font-size:12px}.close[_ngcontent-%COMP%]{position:absolute;right:1px;top:1px}.postBtn[_ngcontent-%COMP%]{margin-top:30px;letter-spacing:4px;text-transform:uppercase}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),t})()},ENZJ:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("mrSG"),o=n("2Vo4"),r=n("lJxs"),s=n("eIep"),a=n("SxV6"),c=n("fXoL"),u=n("qfBg"),l=n("I/3d");let d=(()=>{class t{constructor(t,e){this._userService=t,this._af=e,this._postsList$=new o.a([]),this.postsList$=this._postsList$.asObservable(),this._af.collection("posts").stateChanges(["added"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,n=t.payload.doc.data();return Object.assign({id:e},n)}))).subscribe(t=>{const e=[...this._postsList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._postsList$.next(e)})}getPostsByProduct(t){return this._af.collection("posts",e=>e.where("productId","==",t)).valueChanges().pipe(Object(s.a)(t=>Object(i.b)(this,void 0,void 0,function*(){const e=yield this._userService.getAll().pipe(Object(a.a)()).toPromise();return t.map(t=>{var n,i;const o=t.uid,r=e.filter(t=>t.uid===o);return Object.assign(Object.assign({},t),{username:null===(n=r[0])||void 0===n?void 0:n.username,photoUrl:null===(i=r[0])||void 0===i?void 0:i.photoUrl})})})))}save(t){const e=this._af.createId(),n=new Date,i={id:e,productId:t.productId,uid:t.uid,body:t.body,date:n};this._af.collection("posts").doc(e).set(i)}getFirstPostsByProduct(t){return this.postsList$.pipe(Object(s.a)(e=>Object(i.b)(this,void 0,void 0,function*(){const n=e.filter(e=>e.productId===t);if(n.length<=0)return;const i=n[n.length-1].uid,o=yield this._userService.getByUid(i).pipe(Object(a.a)()).toPromise();return Object.assign(Object.assign({},n[n.length-1]),{username:null==o?void 0:o.username,photoUrl:null==o?void 0:o.photoUrl})})))}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(u.a),c.Sb(l.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Gdn9:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("lJxs"),o=n("fXoL"),r=n("tk/3");const s="http://localhost:3000/products";let a=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(s)}getById(t){return this.http.get(s).pipe(Object(i.a)(e=>e.find(e=>e.id===t)))}getByTag(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.tag===t)))}getByCategory(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.category===t)))}getByTagCategory(t,e){return this.http.get(s).pipe(Object(i.a)(n=>n.filter(n=>n.category===t&&n.tag===e)))}create(t){return this.http.post(s,t).toPromise()}update(t){return this.http.put(s+"/"+t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(r.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Nf9K:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("mrSG"),o=n("fXoL"),r=n("ENZJ"),s=n("TEn/"),a=n("I/3d"),c=n("ofXK"),u=n("n4WL"),l=n("nyhg");const d=["content"];function b(t,e){1&t&&o.Kb(0,"img",10),2&t&&o.ec("src",e.ngIf,o.kc)}function h(t,e){1&t&&o.Kb(0,"img",10),2&t&&o.ec("src","assets/images/users/profile_32.png",o.kc)}function p(t,e){if(1&t&&(o.Ob(0,"ion-item"),o.Ob(1,"ion-avatar",0),o.pc(2,b,1,1,"img",7),o.pc(3,h,1,1,"ng-template",null,8,o.qc),o.Nb(),o.Ob(5,"ion-label"),o.Ob(6,"h4"),o.rc(7),o.Nb(),o.Ob(8,"p",9),o.rc(9),o.Nb(),o.Ob(10,"p",9),o.rc(11),o.Zb(12,"dayJS"),o.Nb(),o.Nb(),o.Nb()),2&t){const t=e.$implicit,n=o.hc(4);o.zb(2),o.ec("ngIf",t.photoUrl)("ngIfElse",n),o.zb(5),o.sc(t.username),o.zb(2),o.sc(t.body),o.zb(2),o.sc(o.bc(12,5,null==t||null==t.date?null:t.date.toDate(),"fromNow"))}}let f=(()=>{class t{constructor(t,e,n){this._postService=t,this.modalController=e,this.af=n}ngOnInit(){return Object(i.b)(this,void 0,void 0,function*(){yield this.af.collection("users").valueChanges().pipe().toPromise()})}ngAfterViewInit(){this.posts$=this._postService.getPostsByProduct(this.produit.id),setTimeout(()=>{this.ionContent.nativeElement.scrollToBottom(250)},100)}closeModal(){this.modalController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(s.Y),o.Jb(a.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-modal-comment"]],viewQuery:function(t,e){if(1&t&&o.mc(d,!0,o.m),2&t){let t;o.gc(t=o.Xb())&&(e.ionContent=t.first)}},decls:18,vars:5,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back-sharp"],["content",""],["size","12"],[4,"ngFor","ngForOf"],[3,"product","user$"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"post-text"],[3,"src"]],template:function(t,e){1&t&&(o.Ob(0,"ion-header"),o.Ob(1,"ion-toolbar"),o.Ob(2,"ion-buttons",0),o.Ob(3,"ion-button",1),o.Wb("click",function(){return e.closeModal()}),o.Kb(4,"ion-icon",2),o.Nb(),o.Nb(),o.Ob(5,"ion-title"),o.rc(6,"Comments"),o.Nb(),o.Nb(),o.Nb(),o.Ob(7,"ion-content",null,3),o.Ob(9,"ion-grid"),o.Ob(10,"ion-row"),o.Ob(11,"ion-col",4),o.Ob(12,"ion-list"),o.pc(13,p,13,8,"ion-item",5),o.Zb(14,"async"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(15,"ion-footer"),o.Ob(16,"ion-toolbar"),o.Kb(17,"app-popover-comment",6),o.Nb(),o.Nb()),2&t&&(o.zb(13),o.ec("ngForOf",o.ac(14,3,e.posts$)),o.zb(4),o.ec("product",e.produit)("user$",e.user$))},directives:[s.t,s.V,s.i,s.h,s.u,s.U,s.q,s.s,s.G,s.p,s.C,c.i,s.r,u.a,s.z,s.e,c.j,s.B],pipes:[c.b,l.a],styles:[".post-text[_ngcontent-%COMP%]{font-size:13px;margin:0 6px 4px}"]}),t})()},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ofXK"),o=n("TEn/"),r=n("3Pt+"),s=n("fXoL");n("81uL"),n("n4WL"),n("Nf9K"),n("aZ8m"),n("hEMT"),n("nyhg"),n("n4ln"),n("qfBg");let a=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[i.c,o.W,r.j,r.d]]}),t})()},QgiU:function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var i=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(t,e,n,o){return i.fromToBase(t,e,n,o)}n.en.relativeTime=o,i.fromToBase=function(e,i,r,s,a){for(var c,u,l,d=r.$locale().relativeTime||o,b=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=b.length,p=0;p<h;p+=1){var f=b[p];f.d&&(c=s?n(e).diff(r,f.d,!0):r.diff(e,f.d,!0));var m=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,m<=f.r||!f.r){m<=1&&p>0&&(f=b[p-1]);var g=d[f.l];a&&(m=a(""+m)),u="string"==typeof g?g.replace("%d",m):g(m,i,f.l,l);break}}if(i)return u;var v=l?d.future:d.past;return"function"==typeof v?v(u):v.replace("%s",u)},i.to=function(t,e){return r(t,e,this,!0)},i.from=function(t,e){return r(t,e,this)};var s=function(t){return t.$u?n.utc():n()};i.toNow=function(t){return this.to(s(this),t)},i.fromNow=function(t){return this.from(s(this),t)}}}()},Wgwc:function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",o="day",r="week",s="month",a="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},p={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+h(i,2,"0")+":"+h(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(i,s),r=n-o<0,a=e.clone().add(i+(r?-1:1),s);return+(-(i+(n-o)/(r?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:c,w:r,d:o,D:u,h:i,m:n,s:e,ms:t,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f="en",m={};m[f]=b;var g=function(t){return t instanceof N},v=function(t,e,n){var i;if(!t)return f;if("string"==typeof t)m[t]&&(i=t),e&&(m[t]=e,i=t);else{var o=t.name;m[o]=t,i=o}return!n&&i&&(f=i),i||!n&&f},O=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new N(n)},y=p;y.l=v,y.i=g,y.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var N=function(){function b(t){this.$L=v(t.locale,null,!0),this.parse(t)}var h=b.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(l);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return y},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return O(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<O(t)},h.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,a){var l=this,d=!!y.u(a)||a,b=y.p(t),h=function(t,e){var n=y.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?n:n.endOf(o)},p=function(t,e){return y.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},f=this.$W,m=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(b){case c:return d?h(1,0):h(31,11);case s:return d?h(1,m):h(0,m+1);case r:var O=this.$locale().weekStart||0,N=(f<O?f+7:f)-O;return h(d?g-N:g+(6-N),m);case o:case u:return p(v+"Hours",0);case i:return p(v+"Minutes",1);case n:return p(v+"Seconds",2);case e:return p(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(r,a){var l,d=y.p(r),b="set"+(this.$u?"UTC":""),h=(l={},l[o]=b+"Date",l[u]=b+"Date",l[s]=b+"Month",l[c]=b+"FullYear",l[i]=b+"Hours",l[n]=b+"Minutes",l[e]=b+"Seconds",l[t]=b+"Milliseconds",l)[d],p=d===o?this.$D+(a-this.$W):a;if(d===s||d===c){var f=this.clone().set(u,1);f.$d[h](p),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[y.p(t)]()},h.add=function(t,a){var u,l=this;t=Number(t);var d=y.p(a),b=function(e){var n=O(l);return y.w(n.date(n.date()+Math.round(e*t)),l)};if(d===s)return this.set(s,this.$M+t);if(d===c)return this.set(c,this.$y+t);if(d===o)return b(1);if(d===r)return b(7);var h=(u={},u[n]=6e4,u[i]=36e5,u[e]=1e3,u)[d]||1,p=this.$d.getTime()+t*h;return y.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=y.z(this),o=this.$locale(),r=this.$H,s=this.$m,a=this.$M,c=o.weekdays,u=o.months,l=function(t,i,o,r){return t&&(t[i]||t(e,n))||o[i].substr(0,r)},b=function(t){return y.s(r%12||12,t,"0")},h=o.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:y.s(a+1,2,"0"),MMM:l(o.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:l(o.weekdaysMin,this.$W,c,2),ddd:l(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:y.s(r,2,"0"),h:b(1),hh:b(2),a:h(r,s,!0),A:h(r,s,!1),m:String(s),mm:y.s(s,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:i};return n.replace(d,function(t,e){return e||p[t]||i.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,u,l){var d,b=y.p(u),h=O(t),p=6e4*(h.utcOffset()-this.utcOffset()),f=this-h,m=y.m(this,h);return m=(d={},d[c]=m/12,d[s]=m,d[a]=m/3,d[r]=(f-p)/6048e5,d[o]=(f-p)/864e5,d[i]=f/36e5,d[n]=f/6e4,d[e]=f/1e3,d)[b]||f,l?m:y.a(m)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return m[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=v(t,e,!0);return i&&(n.$L=i),n},h.clone=function(){return y.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},b}(),$=N.prototype;return O.prototype=$,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",o],["$M",s],["$y",c],["$D",u]].forEach(function(t){$[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),O.extend=function(t,e){return t.$i||(t(e,N,O),t.$i=!0),O},O.locale=v,O.isDayjs=g,O.unix=function(t){return O(1e3*t)},O.en=m[f],O.Ls=m,O.p={},O}()},aZ8m:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL"),o=n("TEn/");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Db({type:t,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"ion-no-padding"],[1,"ion-padding-start","ion-text-start"]],template:function(t,e){1&t&&(i.Ob(0,"ion-header"),i.Ob(1,"ion-toolbar",0),i.Ob(2,"ion-title",1),i.Ob(3,"ion-text"),i.rc(4," Truth on Cosmetic "),i.Nb(),i.Nb(),i.Nb(),i.Nb())},directives:[o.t,o.V,o.U,o.R],styles:["ion-text[_ngcontent-%COMP%]{font-family:Crete Round,serif;font-size:18px;color:#444;--padding-left:16px}"]}),t})()},eDGZ:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("2Vo4"),o=n("itXk"),r=n("lJxs"),s=n("fXoL"),a=n("I/3d");let c=(()=>{class t{constructor(t){this._af=t,this._productList$=new i.a([]),this.productList$=this._productList$.asObservable(),this._tag$=new i.a("null"),this.tag$=this._tag$.asObservable(),this._category$=new i.a("all"),this.category$=this._category$.asObservable(),this._af.collection("products").stateChanges(["added","modified"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,n=t.payload.doc.data();return Object.assign({id:e},n)}))).subscribe(t=>{const e=[...this._productList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._productList$.next(e)})}getProducts(){return Object(o.a)([this.tag$,this.category$,this.productList$]).pipe(Object(r.a)(([t,e,n])=>{switch(!0){case"null"===t&&"all"===e:return n;case"null"!==t&&"all"!==e:return n.filter(n=>n.tag===t&&n.category===e);case"null"!==t&&"all"===e:return n.filter(e=>e.tag===t);case"null"==t&&"all"!==e:return n.filter(t=>t.category===e);default:return n.filter(n=>n.tag===t&&n.category===e)}}))}setTag(t){this._tag$.next(t)}setCategory(t){this._category$.next(t)}create(t){this._af.collection("products").doc(t.id).set(t)}getByID(t){return this._af.collection("products",e=>e.where("id","==",t)).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(a.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},hEMT:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("mrSG"),o=n("fXoL"),r=n("SxV6"),s=n("gcOT"),a=n("AytR"),c=n("tk/3");const{Geolocation:u}=s.d;let l=(()=>{class t{constructor(t){this._http=t,this.apiKey=a.a.opencageapikey,this.apiurl="https://api.opencagedata.com/geocode/v1/json"}geolocateMe(){return Object(i.b)(this,void 0,void 0,function*(){const t=yield this.getCurrentPosition();return this.reverseGeolocate(t.lat,t.long)})}getCurrentPosition(){return Object(i.b)(this,void 0,void 0,function*(){const t=yield u.getCurrentPosition();return{lat:t.coords.latitude,long:t.coords.longitude}})}reverseGeolocate(t,e){var n,o,s,a,c,u;return Object(i.b)(this,void 0,void 0,function*(){const i=this.apiurl+"?key="+this.apiKey+"&q="+encodeURIComponent(t+","+e)+"&pretty=1&no_annotations=1",l=yield this._http.get(i).pipe(Object(r.a)()).toPromise();return{town:(null===(o=null===(n=null==l?void 0:l.results[0])||void 0===n?void 0:n.components)||void 0===o?void 0:o.village)||(null===(a=null===(s=null==l?void 0:l.results[0])||void 0===s?void 0:s.components)||void 0===a?void 0:a.town),state:null===(u=null===(c=null==l?void 0:l.results[0])||void 0===c?void 0:c.components)||void 0===u?void 0:u.state}})}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(c.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("TEn/"),b=n("ofXK");let h=(()=>{class t{constructor(t){this._geoservice=t,this.isclicked=!1,this.locationEmitternew=new o.o,this.initEmitter=new o.o}ngOnInit(){}onClick(){return Object(i.b)(this,void 0,void 0,function*(){this.location=this._geoservice.geolocateMe(),this.isclicked=!0;const t=yield this.location;this.locationEmitternew.emit(t)})}init(){this.isclicked=!1,this.initEmitter.emit(this.isclicked)}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(l))},t.\u0275cmp=o.Db({type:t,selectors:[["app-geolocate"]],outputs:{locationEmitternew:"locationEmitternew",initEmitter:"initEmitter"},decls:6,vars:5,consts:[["fill","clear","size","small",3,"hidden","click"],["color","light","slot","icon-only","name","navigate-outline"],["fill","clear","size","small","color","light",3,"hidden","click"],["slot","end","name","close-circle-outline"]],template:function(t,e){if(1&t&&(o.Ob(0,"ion-button",0),o.Wb("click",function(){return e.onClick()}),o.Kb(1,"ion-icon",1),o.Nb(),o.Ob(2,"ion-button",2),o.Wb("click",function(){return e.init()}),o.rc(3),o.Zb(4,"async"),o.Kb(5,"ion-icon",3),o.Nb()),2&t){let t=null;o.ec("hidden",e.isclicked),o.zb(2),o.ec("hidden",!e.isclicked),o.zb(1),o.tc("",null==(t=o.ac(4,3,e.location))?null:t.town," ")}},directives:[d.h,d.u],pipes:[b.b],styles:[""]}),t})()},n4WL:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("mrSG"),o=n("fXoL"),r=n("TEn/"),s=n("Gdn9"),a=n("UbJi"),c=n("ENZJ"),u=n("ofXK");function l(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.ec("src",e.ngIf,o.kc)}function d(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.ec("src","assets/images/users/profile_32.png",o.kc)}let b=(()=>{class t{constructor(t,e,n,i){this.popoverController=t,this.serviceProduit=e,this._auth=n,this._postService=i}ngOnInit(){}getSmiley(t){return t.srcElement.innerText}sendComment(t){return Object(i.b)(this,void 0,void 0,function*(){const{uid:e=null}=yield this._auth.currentUser;this._postService.save({uid:e,productId:this.product.id,body:t.value}),(yield this.popoverController.getTop())&&this.popoverController.dismiss()})}ClosePopover(){this.popoverController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.Z),o.Jb(s.a),o.Jb(a.a),o.Jb(c.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-popover-comment"]],inputs:{product:"product",user$:"user$"},decls:37,vars:4,consts:[["fixed","",1,"ion-no-padding"],[1,"ion-no-padding"],["size","12",1,"ion-no-padding"],["lines","none"],[1,"smilies",3,"click"],["slot","start",1,"comment_avatar"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"inputComment"],["type","text","placeholder","Add a feed..."],["ic",""],["fill","clear","shape","round",3,"click"],["slot","end","name","send"],[3,"src"]],template:function(t,e){if(1&t){const t=o.Pb();o.Ob(0,"ion-grid",0),o.Ob(1,"ion-row",1),o.Ob(2,"ion-col",2),o.Ob(3,"ion-item",3),o.Ob(4,"ion-label",4),o.Wb("click",function(n){o.ic(t);const i=o.hc(34);return i.value=i.value+e.getSmiley(n)}),o.Ob(5,"span"),o.rc(6," \ud83d\udd25"),o.Nb(),o.Ob(7,"span"),o.rc(8," \ud83d\ude0a"),o.Nb(),o.Ob(9,"span"),o.rc(10," \ud83d\ude0d"),o.Nb(),o.Ob(11,"span"),o.rc(12," \ud83d\udc96"),o.Nb(),o.Ob(13,"span"),o.rc(14," \ud83d\udc4d"),o.Nb(),o.Ob(15,"span"),o.rc(16," \ud83d\udc4f"),o.Nb(),o.Ob(17,"span"),o.rc(18," \ud83c\udf3a"),o.Nb(),o.Ob(19,"span"),o.rc(20," \u2757"),o.Nb(),o.Ob(21,"span"),o.rc(22," \ud83d\uded1"),o.Nb(),o.Ob(23,"span"),o.rc(24," \u2695\ufe0f"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(25,"ion-col",2),o.Ob(26,"ion-item",3),o.Ob(27,"ion-avatar",5),o.pc(28,l,1,1,"img",6),o.Zb(29,"async"),o.pc(30,d,1,1,"ng-template",null,7,o.qc),o.Nb(),o.Ob(32,"ion-item",8),o.Kb(33,"ion-input",9,10),o.Ob(35,"ion-button",11),o.Wb("click",function(){o.ic(t);const n=o.hc(34);return e.sendComment(n)}),o.Kb(36,"ion-icon",12),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.hc(31);let n=null;o.zb(28),o.ec("ngIf",null==(n=o.ac(29,2,e.user$))?null:n.photoUrl)("ngIfElse",t)}},directives:[r.s,r.G,r.p,r.z,r.B,r.e,u.j,r.y,r.cb,r.h,r.u],pipes:[u.b],styles:["span[_ngcontent-%COMP%]{margin-right:8px;width:30px;height:30px}.smilies[_ngcontent-%COMP%]{display:flex;overflow:scroll}.inputComment[_ngcontent-%COMP%]{--border-width:0.2px!important;--border-color:var(--ion-color-medium);--border-radius:30px;font-size:12px}"]}),t})()},n4ln:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),o=n("SxV6"),r=n("fXoL"),s=n("I/3d");let a=(()=>{class t{constructor(t){this._AF=t}transform(t){return Object(i.b)(this,void 0,void 0,function*(){return t?(yield this._AF.doc("pro-categories/"+t).valueChanges().pipe(Object(o.a)()).toPromise()).category:""})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s.a))},t.\u0275pipe=r.Ib({name:"category",type:t,pure:!0}),t})()},nyhg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Wgwc"),o=n("QgiU"),r=n("fXoL");i.extend(o);let s=(()=>{class t{transform(t,e,n=!1){if(!t)return"";switch(!0){case"fromNow"===e:return i(t).fromNow(n);case"toNow"===e:return i(t).toNow(n)}return null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"dayJS",type:t,pure:!0}),t})()}}]);
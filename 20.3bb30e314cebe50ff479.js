(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Wlq6:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchModule",function(){return w});var i=n("ofXK"),o=n("tyNb"),r=n("mrSG"),l=n("cp0P"),c=n("SxV6"),s=n("lJxs"),b=n("81uL"),a=n("fXoL"),u=n("tk/3");let p=(()=>{class e{constructor(e){this._http=e}getAll(e){return this._http.get("https://www.googleapis.com/customsearch/v1?key=AIzaSyCFen6NifzjQvj_QX8vhh_-sMil2nJtNbI&cx=4a589f3673b1234e4&q="+e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(u.a))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("Gdn9"),h=n("eDGZ"),f=n("TEn/");function m(e,t){1&e&&(a.Ob(0,"ion-list-header"),a.Ob(1,"ion-label"),a.pc(2,"Already reviewd"),a.Nb(),a.Nb())}function g(e,t){if(1&e&&(a.Mb(0),a.Ob(1,"ion-item"),a.Ob(2,"ion-avatar",4),a.Kb(3,"img",5),a.Nb(),a.Ob(4,"ion-label",6),a.Ob(5,"ion-text"),a.pc(6),a.Nb(),a.Ob(7,"ion-text",7),a.Kb(8,"br"),a.pc(9),a.Nb(),a.Nb(),a.Ob(10,"ion-button",8),a.Kb(11,"ion-icon",9),a.Nb(),a.Nb(),a.Lb()),2&e){const e=t.$implicit;a.zb(3),a.dc("src",null==e?null:e.image_url,a.ic),a.zb(3),a.qc(null==e?null:e.product_name),a.zb(3),a.rc("",e.brand," "),a.zb(1),a.dc("routerLink","../detail/"+e.id)}}function O(e,t){1&e&&(a.Ob(0,"ion-list-header"),a.Ob(1,"ion-label"),a.pc(2,"New products add feed"),a.Nb(),a.Nb())}function N(e,t){if(1&e){const e=a.Pb();a.Mb(0),a.Ob(1,"ion-item"),a.Ob(2,"ion-avatar",4),a.Kb(3,"img",5),a.Nb(),a.Ob(4,"ion-label",6),a.Kb(5,"ion-text",10),a.Ob(6,"ion-text",7),a.Kb(7,"br"),a.pc(8),a.Nb(),a.Nb(),a.Ob(9,"ion-button",11),a.Wb("click",function(){a.gc(e);const t=a.Yb().$implicit;return a.Yb().openModal(t)}),a.Kb(10,"ion-icon",12),a.Nb(),a.Nb(),a.Lb()}if(2&e){const e=a.Yb().$implicit;a.zb(3),a.dc("src",null==e||null==e.pagemap||null==e.pagemap.cse_thumbnail[0]?null:e.pagemap.cse_thumbnail[0].src,a.ic),a.zb(2),a.dc("innerHTML",(null==e?null:e.htmlTitle.split("/b>")[0])+"/b>",a.hc),a.zb(3),a.rc("Vendu par ",e.displayLink.split(".")[1]," ")}}function y(e,t){if(1&e&&(a.Mb(0),a.nc(1,N,11,3,"ng-container",2),a.Lb()),2&e){const e=t.$implicit;a.zb(1),a.dc("ngIf",(null==e||null==e.pagemap?null:e.pagemap.cse_thumbnail)&&!(null!=e&&e.htmlTitle.includes("ligne")))}}const v=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.serviceGoogle=e,this.serviceProduit=t,this._productListService=n,this.modalCtrl=i,this.query="",this.isKeyEntered=!1}ngOnInit(){}filterList(e){this.query=e.srcElement.value,this.isKeyEntered=!0,this.resultsGoogle=this.getGoogle(),this.resultsLocal=this.getLocal()}getGoogle(){return Object(l.a)([this.serviceGoogle.getAll(this.query),this._productListService.productList$.pipe(Object(c.a)())]).pipe(Object(s.a)(([e,t])=>{let n=[];return[...e.items].forEach(e=>{for(let i=0;i<t.length;i++){const o=t[i],r=e.title.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),l=o.product_name.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");r.includes(l)||n.push(e)}}),[...new Set(n)]}))}getLocal(){return Object(l.a)([this.serviceGoogle.getAll(this.query),this._productListService.productList$.pipe(Object(c.a)())]).pipe(Object(s.a)(([e,t])=>{let n=[];return[...e.items].forEach(e=>{for(let i=0;i<t.length;i++){const o=t[i],r=e.title.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),l=o.product_name.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");r.split(""),r.includes(l)&&n.push(o)}}),[...new Set(n)]}))}openModal(e){return Object(r.b)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:b.a,componentProps:{productName:e.title,productImg:e.pagemap.cse_thumbnail[0].src||"../../../assets/images/home1.jpg"}});yield t.present()})}isMatched(e,t){let n=e.split(" "),i=!1;for(let o=0;o<n.length&&(i=t.includes(n[o]),!i);o++);return i}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(p),a.Jb(d.a),a.Jb(h.a),a.Jb(f.bb))},e.\u0275cmp=a.Db({type:e,selectors:[["app-search"]],decls:18,vars:10,consts:[["size","12"],[3,"keyup.enter"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[1,"ion-text-wrap","myLabel"],["color","primary"],["fill","clear","shape","round","size","small",3,"routerLink"],["slot","end","name","chevron-forward-outline"],[3,"innerHTML"],["fill","clear","shape","round","size","small",3,"click"],["slot","end","name","add"]],template:function(e,t){if(1&e&&(a.Ob(0,"ion-content"),a.Ob(1,"ion-grid"),a.Ob(2,"ion-row"),a.Ob(3,"ion-col",0),a.Ob(4,"ion-searchbar",1),a.Wb("keyup.enter",function(e){return t.filterList(e)}),a.Nb(),a.Nb(),a.Nb(),a.Ob(5,"ion-row"),a.Ob(6,"ion-col",0),a.Ob(7,"ion-list"),a.nc(8,m,3,0,"ion-list-header",2),a.Zb(9,"async"),a.nc(10,g,12,4,"ng-container",3),a.Zb(11,"async"),a.Nb(),a.Nb(),a.Nb(),a.Ob(12,"ion-row"),a.Ob(13,"ion-col",0),a.Ob(14,"ion-list"),a.nc(15,O,3,0,"ion-list-header",2),a.nc(16,y,2,1,"ng-container",3),a.Zb(17,"async"),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb()),2&e){let e=null;a.zb(8),a.dc("ngIf",t.isKeyEntered&&(null==(e=a.ac(9,4,t.resultsLocal))?null:e.length)>0),a.zb(2),a.dc("ngForOf",a.ac(11,6,t.resultsLocal)),a.zb(5),a.dc("ngIf",t.isKeyEntered),a.zb(1),a.dc("ngForOf",a.ac(17,8,t.resultsGoogle))}},directives:[f.q,f.s,f.I,f.p,f.J,f.fb,f.C,i.k,i.j,f.D,f.B,f.z,f.e,f.T,f.h,o.f,f.db,f.u],pipes:[i.b],styles:[".myLabel[_ngcontent-%COMP%]{font-size:12px}"]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(v)],o.g]}),e})();var z=n("PCNd");let w=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[i.c,L,f.Y,u.b,z.a]]}),e})()}}]);
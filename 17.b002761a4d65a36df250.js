(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"vm+o":function(o,e,r){"use strict";r.r(e),r.d(e,"LoginModule",function(){return v});var n=r("ofXK"),t=r("tyNb"),i=r("mrSG"),s=r("3Pt+"),l=r("fXoL"),a=r("UbJi"),c=r("qfBg"),d=r("TEn/");function b(o,e){1&o&&(l.Ob(0,"span"),l.oc(1,"Email is required"),l.Nb())}function u(o,e){1&o&&(l.Ob(0,"span"),l.oc(1,"Email is invalid"),l.Nb())}function p(o,e){if(1&o&&(l.Ob(0,"div",9),l.mc(1,b,2,0,"span",10),l.mc(2,u,2,0,"span",10),l.Nb()),2&o){const o=l.Yb();l.zb(1),l.dc("ngIf",null==o.email.errors?null:o.email.errors.required),l.zb(1),l.dc("ngIf",null==o.email.errors?null:o.email.errors.email)}}function m(o,e){1&o&&(l.Ob(0,"span"),l.oc(1,"Password is required"),l.Nb())}function g(o,e){1&o&&(l.Ob(0,"span"),l.oc(1,"Password needs to be 6 characters"),l.Nb())}function f(o,e){if(1&o&&(l.Ob(0,"div",9),l.mc(1,m,2,0,"span",10),l.mc(2,g,2,0,"span",10),l.Nb()),2&o){const o=l.Yb();l.zb(1),l.dc("ngIf",null==o.password.errors?null:o.password.errors.required),l.zb(1),l.dc("ngIf",null==o.password.errors?null:o.password.errors.minlength)}}const h=[{path:"",component:(()=>{class o{constructor(o,e,r,n,t,i){this._fb=o,this._authService=e,this._userService=r,this._alertController=n,this._router=t,this._loadingController=i}ngOnInit(){this.credentials=this._fb.group({email:["",[s.l.required,s.l.email]],password:["",[s.l.required,s.l.minLength(6)]]})}loginWithGoogle(){this._userService.GoogleAuth()}login(){return Object(i.b)(this,void 0,void 0,function*(){const o=yield this._loadingController.create();yield o.present(),this._authService.signInWithEmailAndPassword(this.credentials.controls.email.value,this.credentials.controls.password.value).then(e=>Object(i.b)(this,void 0,void 0,function*(){yield o.dismiss(),this._router.navigateByUrl("/home",{replaceUrl:!0})}),e=>Object(i.b)(this,void 0,void 0,function*(){yield o.dismiss();const r=yield this._alertController.create({header:"Login failed",message:e.error.error,buttons:["OK"]});yield r.present()}))})}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}}return o.\u0275fac=function(e){return new(e||o)(l.Jb(s.a),l.Jb(a.a),l.Jb(c.a),l.Jb(d.b),l.Jb(t.e),l.Jb(d.Y))},o.\u0275cmp=l.Db({type:o,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email","autocomplete","off"],["class","errors",4,"ngIf"],["type","password","placeholder","Password","formControlName","password","autocomplete","off"],["type","submit","expand","block"],["routerLink","/register","type","button","expand","block","color","primary","fill","clear"],["type","button","expand","block","color","tertiary",3,"click"],["name","logo-google","slot","start"],[1,"errors"],[4,"ngIf"]],template:function(o,e){1&o&&(l.Ob(0,"ion-content"),l.Ob(1,"form",0),l.Wb("ngSubmit",function(){return e.login()}),l.Ob(2,"div",1),l.Ob(3,"ion-item"),l.Kb(4,"ion-input",2),l.Nb(),l.mc(5,p,3,2,"div",3),l.Ob(6,"ion-item"),l.Kb(7,"ion-input",4),l.Nb(),l.mc(8,f,3,2,"div",3),l.Nb(),l.Ob(9,"ion-button",5),l.oc(10,"Log in"),l.Nb(),l.Ob(11,"ion-button",6),l.oc(12,"Not yet a member? Sign up! "),l.Nb(),l.Ob(13,"ion-button",7),l.Wb("click",function(){return e.loginWithGoogle()}),l.Kb(14,"ion-icon",8),l.oc(15," Sign in with Google "),l.Nb(),l.Nb(),l.Nb()),2&o&&(l.zb(1),l.dc("formGroup",e.credentials),l.zb(4),l.dc("ngIf",(e.email.dirty||e.email.touched)&&e.email.errors),l.zb(3),l.dc("ngIf",(e.password.dirty||e.password.touched)&&e.password.errors))},directives:[d.r,s.m,s.h,s.c,d.A,d.z,d.db,s.g,s.b,n.j,d.h,t.f,d.bb,d.v],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%}.input-group[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;margin-bottom:15px}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),o})()}];let w=(()=>{class o{}return o.\u0275mod=l.Hb({type:o}),o.\u0275inj=l.Gb({factory:function(e){return new(e||o)},imports:[[t.g.forChild(h)],t.g]}),o})(),v=(()=>{class o{}return o.\u0275mod=l.Hb({type:o}),o.\u0275inj=l.Gb({factory:function(e){return new(e||o)},imports:[[n.c,w,d.X,s.j]]}),o})()}}]);
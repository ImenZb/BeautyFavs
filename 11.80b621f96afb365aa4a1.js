(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/m2M":function(t,e,n){"use strict";n.r(e),n.d(e,"TabsModule",function(){return b});var i=n("ofXK"),o=n("tyNb"),r=n("mrSG"),s=n("81uL"),a=n("fXoL"),c=n("TEn/");const u=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t}ngOnInit(){}openModal(){return Object(r.b)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:s.a,componentProps:{productName:"",productImg:""},cssClass:"modal"});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(c.bb))},t.\u0275cmp=a.Db({type:t,selectors:[["app-tabs"]],decls:23,vars:0,consts:[["slot","bottom"],["tab","home"],["name","home"],["tab","search"],["name","search"],["tab","ask",1,"askTab"],["name","help",1,"askIcon"],["tab",""],["name","notifications-circle-outline"],["tab","profil"],["name","person-circle-outline"]],template:function(t,e){1&t&&(a.Ob(0,"ion-tabs"),a.Ob(1,"ion-tab-bar",0),a.Ob(2,"ion-tab-button",1),a.Kb(3,"ion-icon",2),a.Ob(4,"ion-label"),a.pc(5,"Home"),a.Nb(),a.Nb(),a.Ob(6,"ion-tab-button",3),a.Kb(7,"ion-icon",4),a.Ob(8,"ion-label"),a.pc(9,"Search"),a.Nb(),a.Nb(),a.Ob(10,"ion-tab-button",5),a.Kb(11,"ion-icon",6),a.Ob(12,"ion-text"),a.Ob(13,"ion-label"),a.pc(14,"Ask"),a.Nb(),a.Nb(),a.Nb(),a.Ob(15,"ion-tab-button",7),a.Kb(16,"ion-icon",8),a.Ob(17,"ion-label"),a.pc(18,"Notifications"),a.Nb(),a.Nb(),a.Ob(19,"ion-tab-button",9),a.Kb(20,"ion-icon",10),a.Ob(21,"ion-label"),a.pc(22,"Profil"),a.Nb(),a.Nb(),a.Nb(),a.Nb())},directives:[c.S,c.Q,c.R,c.u,c.B,c.T],styles:["ion-tab-bar[_ngcontent-%COMP%]{--color-selected:var(--ion-color-primary,#3880ff)}.askTab[_ngcontent-%COMP%]{height:70px;border-radius:50%;background:#fff;z-index:100;max-width:70px;color:var(--ion-color-primary,#3880ff);border:4px solid var(--ion-color-primary,#3880ff);margin-top:-18px}ion-tab-bar[_ngcontent-%COMP%]{contain:none}"]}),t})(),children:[{path:"home",loadChildren:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"fOOd")).then(t=>t.HomeModule)},{path:"search",loadChildren:()=>n.e(20).then(n.bind(null,"Wlq6")).then(t=>t.SearchModule)},{path:"detail",loadChildren:()=>n.e(14).then(n.bind(null,"FSlI")).then(t=>t.DetailModule)},{path:"profil",loadChildren:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"L+dR")).then(t=>t.ProfilModule)},{path:"add",loadChildren:()=>n.e(12).then(n.bind(null,"IZC+")).then(t=>t.AddProductModule)},{path:"ask",loadChildren:()=>n.e(13).then(n.bind(null,"Sa0y")).then(t=>t.AskModule)},{path:"",redirectTo:"home",pathMatch:"full"}]}];let l=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(u)],o.g]}),t})();var d=n("PCNd");let b=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[i.c,c.Y,l,d.a]]}),t})()},"81uL":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("mrSG"),o=n("3Pt+"),r=n("fXoL"),s=n("TEn/"),a=n("eDGZ"),c=n("ENZJ"),u=n("UbJi"),l=n("ofXK");function d(t,e){if(1&t&&(r.Ob(0,"ion-thumbnail",22),r.Kb(1,"ion-img",23),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.dc("src",t.productImg)}}function b(t,e){1&t&&r.Kb(0,"ion-icon",24)}function p(t,e){1&t&&r.Kb(0,"ion-icon",25)}function h(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ion-item",26),r.Wb("click",function(){r.gc(t);const n=e.$implicit,i=r.Yb(),o=r.fc(30);return i.selected(n,o)}),r.pc(1),r.Nb()}if(2&t){const t=e.$implicit;r.zb(1),r.rc(" ",t," ")}}let f=(()=>{class t{constructor(t,e,n,i,o){this.modatCtrl=t,this._formBuilder=e,this._productListService=n,this._postService=i,this._auth=o,this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"],this.items=[]}ngOnInit(){return Object(i.b)(this,void 0,void 0,function*(){this.form=this._formBuilder.group({product_name:[this.productName,o.l.required],feed:["",o.l.required],brand:["",o.l.required],tag:["",o.l.required],category:["",o.l.required]}),this.user=yield this._auth.currentUser})}inputChanged(t){const e=t.target.value;this.items=e.length<=0?[]:this.tags.filter(t=>t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))}selected(t,e){e.value="",this.form.patchValue({tag:t}),this.items=[]}onSubmit(){var t;const e=Math.floor(1e3*Math.random()).toString()+"n",n=this.form.get("feed").value,i=this.form.get("product_name").value,o=this.form.get("tag").value,r=this.form.get("category").value,s=this.form.get("brand").value,a=new Date,c={uid:null===(t=this.user)||void 0===t?void 0:t.uid,productId:e,body:n,date:a};this._productListService.create({productId:e,product_name:i,brand:s,tag:o,category:r,created_datetime:a,imageUrl:this.productImg,likes:0}),this._postService.save(c),this.modatCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s.bb),r.Jb(o.a),r.Jb(a.a),r.Jb(c.a),r.Jb(u.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-modal-add"]],inputs:{productName:"productName",productImg:"productImg"},decls:47,vars:6,consts:[[3,"formGroup","ngSubmit"],["fill","clear","size","small",1,"close",3,"click"],["color","medium","name","close"],[1,"ion-no-padding","ion-no-margin"],["slot","start",4,"ngIf"],["position","floating",1,"ion-no-padding","ion-no-margin"],["formControlName","product_name","type","text",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","camera-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["color","primary","slot","end","name","image-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["position","floating"],["formControlName","feed","type","text"],["formControlName","brand","type","text"],["formControlName","tag","type","text",3,"ionInput"],["inputTag",""],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["formControlName","category","value","","okText","Okay","cancelText","Dismiss"],["value","industriel"],["value","biologique"],["value","artisanal"],["value","paramedical"],["expand","block","size","medium","color","medium","type","submit",1,"postBtn"],["slot","start"],[3,"src"],["color","primary","slot","end","name","camera-outline",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","image-outline",1,"ion-no-padding","ion-no-margin"],[3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"ion-content"),r.Ob(1,"form",0),r.Wb("ngSubmit",function(){return e.onSubmit()}),r.Ob(2,"ion-grid"),r.Ob(3,"ion-row"),r.Ob(4,"ion-card"),r.Ob(5,"ion-card-header"),r.Ob(6,"ion-card-title"),r.pc(7,"Add a feed"),r.Nb(),r.Ob(8,"ion-button",1),r.Wb("click",function(){return e.modatCtrl.dismiss()}),r.Kb(9,"ion-icon",2),r.Nb(),r.Nb(),r.Ob(10,"ion-card-content"),r.Ob(11,"ion-item",3),r.nc(12,d,2,1,"ion-thumbnail",4),r.Ob(13,"ion-label",5),r.pc(14," Product "),r.Nb(),r.Kb(15,"ion-input",6),r.nc(16,b,1,0,"ion-icon",7),r.nc(17,p,1,0,"ion-icon",8),r.Nb(),r.Ob(18,"ion-item",3),r.Ob(19,"ion-label",9),r.pc(20,"Feed"),r.Nb(),r.Kb(21,"ion-input",10),r.Nb(),r.Ob(22,"ion-item",3),r.Ob(23,"ion-label",9),r.pc(24,"Brand"),r.Nb(),r.Kb(25,"ion-input",11),r.Nb(),r.Ob(26,"ion-item",3),r.Ob(27,"ion-label",9),r.pc(28,"Select tag"),r.Nb(),r.Ob(29,"ion-input",12,13),r.Wb("ionInput",function(t){return e.inputChanged(t)}),r.Nb(),r.Ob(31,"ion-list",14),r.nc(32,h,2,1,"ion-item",15),r.Nb(),r.Nb(),r.Ob(33,"ion-item",3),r.Ob(34,"ion-label",9),r.pc(35,"Category"),r.Nb(),r.Ob(36,"ion-select",16),r.Ob(37,"ion-select-option",17),r.pc(38,"industriel"),r.Nb(),r.Ob(39,"ion-select-option",18),r.pc(40,"biologique"),r.Nb(),r.Ob(41,"ion-select-option",19),r.pc(42,"artisanal"),r.Nb(),r.Ob(43,"ion-select-option",20),r.pc(44,"param\xe9dical"),r.Nb(),r.Nb(),r.Nb(),r.Ob(45,"ion-button",21),r.pc(46," Post "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.dc("formGroup",e.form),r.zb(11),r.dc("ngIf",""!==e.productImg),r.zb(4),r.dc("ngIf",""===e.productImg),r.zb(1),r.dc("ngIf",""===e.productImg),r.zb(14),r.dc("hidden",e.items.length<=0),r.zb(1),r.dc("ngForOf",e.items))},directives:[s.q,o.m,o.h,o.c,s.s,s.I,s.j,s.l,s.m,s.h,s.u,s.k,s.z,l.j,s.B,s.y,s.fb,o.g,o.b,s.C,l.i,s.M,s.eb,s.N,s.V,s.v],styles:["ion-card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.5);background:var(--ion-color-light)}ion-label[_ngcontent-%COMP%]{font-size:12px}.close[_ngcontent-%COMP%]{position:absolute;right:1px;top:1px}.postBtn[_ngcontent-%COMP%]{margin-top:30px;letter-spacing:4px;text-transform:uppercase}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),t})()},ENZJ:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("mrSG"),o=n("2Vo4"),r=n("lJxs"),s=n("eIep"),a=n("SxV6"),c=n("fXoL"),u=n("tk/3"),l=n("qfBg"),d=n("I/3d");let b=(()=>{class t{constructor(t,e,n){this.http=t,this._userService=e,this._af=n,this._postsList$=new o.a([]),this.postsList$=this._postsList$.asObservable(),this._af.collection("posts").stateChanges(["added"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,n=t.payload.doc.data();return Object.assign({id:e},n)}))).subscribe(t=>{const e=[...this._postsList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._postsList$.next(e)})}getPostsByProduct(t){return this._af.collection("posts",e=>e.where("productId","==",t)).valueChanges().pipe(Object(s.a)(t=>Object(i.b)(this,void 0,void 0,function*(){const e=yield this._userService.getAll().pipe(Object(a.a)()).toPromise();return console.log("users",e),t.map(t=>{var n,i;const o=t.uid,r=e.filter(t=>t.uid===o);return Object.assign(Object.assign({},t),{username:null===(n=r[0])||void 0===n?void 0:n.username,photoUrl:null===(i=r[0])||void 0===i?void 0:i.photoUrl})})})))}save(t){const e=this._af.createId(),n={id:e,productId:t.productId,uid:t.uid,body:t.body,date:Date.now()};this._af.collection("posts").doc(e).set(n)}getFirstPostsByProduct(t){return Object(i.b)(this,void 0,void 0,function*(){const e=yield this._af.collection("posts",e=>e.where("productId","==",t)).valueChanges().pipe(Object(a.a)()).toPromise();if(e.length<=0)return;const n=e[0].uid,i=yield this._userService.getByUid(n).pipe(Object(a.a)()).toPromise();return Object.assign(Object.assign({},e[0]),{username:null==i?void 0:i.username,photoUrl:null==i?void 0:i.photoUrl})})}isUserFeed(t,e){return Object(i.b)(this,void 0,void 0,function*(){return(yield this._af.collection("posts",n=>n.where("productId","==",e).where("uid","==",t)).valueChanges().pipe(Object(a.a)()).toPromise()).length>0})}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(u.a),c.Sb(l.a),c.Sb(d.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Gdn9:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("lJxs"),o=n("fXoL"),r=n("tk/3");const s="http://localhost:3000/products";let a=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(s)}getById(t){return this.http.get(s).pipe(Object(i.a)(e=>e.find(e=>e.id===t)))}getByTag(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.tag===t)))}getByCategory(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.category===t)))}getByTagCategory(t,e){return this.http.get(s).pipe(Object(i.a)(n=>n.filter(n=>n.category===t&&n.tag===e)))}create(t){return this.http.post(s,t).toPromise()}update(t){return this.http.put(s+"/"+t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(r.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Nf9K:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("fXoL"),o=n("vkgz"),r=n("ENZJ"),s=n("qfBg"),a=n("TEn/"),c=n("ofXK"),u=n("n4WL");const l=["content"];function d(t,e){1&t&&i.Kb(0,"img",10),2&t&&i.dc("src",e.ngIf,i.ic)}function b(t,e){1&t&&i.Kb(0,"img",10),2&t&&i.dc("src","assets/images/users/profile_32.png",i.ic)}function p(t,e){if(1&t&&(i.Ob(0,"ion-item"),i.Ob(1,"ion-avatar",0),i.nc(2,d,1,1,"img",7),i.nc(3,b,1,1,"ng-template",null,8,i.oc),i.Nb(),i.Ob(5,"ion-label"),i.Ob(6,"h4"),i.pc(7),i.Nb(),i.Ob(8,"p",9),i.pc(9),i.Nb(),i.Nb(),i.Nb()),2&t){const t=e.$implicit,n=i.fc(4);i.zb(2),i.dc("ngIf",t.photoUrl)("ngIfElse",n),i.zb(5),i.qc(t.username),i.zb(2),i.qc(t.body)}}let h=(()=>{class t{constructor(t,e,n){this._postService=t,this.serviceUser=e,this.modalController=n}ngOnInit(){}ngAfterViewInit(){this.posts$=this._postService.getPostsByProduct(this.produit.id).pipe(Object(o.a)(t=>console.log("posts --\x3e",t))),setTimeout(()=>{this.ionContent.nativeElement.scrollToBottom(250)},100)}closeModal(){this.modalController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(r.a),i.Jb(s.a),i.Jb(a.bb))},t.\u0275cmp=i.Db({type:t,selectors:[["app-modal-comment"]],viewQuery:function(t,e){if(1&t&&i.kc(l,!0,i.m),2&t){let t;i.ec(t=i.Xb())&&(e.ionContent=t.first)}},decls:18,vars:5,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back-sharp"],["content",""],["size","12"],[4,"ngFor","ngForOf"],[3,"product","user$"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"post-text"],[3,"src"]],template:function(t,e){1&t&&(i.Ob(0,"ion-header"),i.Ob(1,"ion-toolbar"),i.Ob(2,"ion-buttons",0),i.Ob(3,"ion-button",1),i.Wb("click",function(){return e.closeModal()}),i.Kb(4,"ion-icon",2),i.Nb(),i.Nb(),i.Ob(5,"ion-title"),i.pc(6,"Comments"),i.Nb(),i.Nb(),i.Nb(),i.Ob(7,"ion-content",null,3),i.Ob(9,"ion-grid"),i.Ob(10,"ion-row"),i.Ob(11,"ion-col",4),i.Ob(12,"ion-list"),i.nc(13,p,10,4,"ion-item",5),i.Zb(14,"async"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Ob(15,"ion-footer"),i.Ob(16,"ion-toolbar"),i.Kb(17,"app-popover-comment",6),i.Nb(),i.Nb()),2&t&&(i.zb(13),i.dc("ngForOf",i.ac(14,3,e.posts$)),i.zb(4),i.dc("product",e.produit)("user$",e.user$))},directives:[a.t,a.X,a.i,a.h,a.u,a.W,a.q,a.s,a.I,a.p,a.C,c.i,a.r,u.a,a.z,a.e,c.j,a.B],pipes:[c.b],styles:[".post-text[_ngcontent-%COMP%]{font-size:13px;margin:0 6px 4px}"]}),t})()},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ofXK"),o=n("TEn/"),r=n("3Pt+"),s=n("fXoL");n("81uL"),n("n4WL"),n("Nf9K"),n("Wgwc");let a=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[i.c,o.Y,r.j,r.d]]}),t})()},Wgwc:function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",o="day",r="week",s="month",a="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},h={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+p(i,2,"0")+":"+p(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(i,s),r=n-o<0,a=e.clone().add(i+(r?-1:1),s);return+(-(i+(n-o)/(r?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:c,w:r,d:o,D:u,h:i,m:n,s:e,ms:t,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f="en",m={};m[f]=b;var g=function(t){return t instanceof $},O=function(t,e,n){var i;if(!t)return f;if("string"==typeof t)m[t]&&(i=t),e&&(m[t]=e,i=t);else{var o=t.name;m[o]=t,i=o}return!n&&i&&(f=i),i||!n&&f},v=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new $(n)},y=h;y.l=O,y.i=g,y.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function b(t){this.$L=O(t.locale,null,!0),this.parse(t)}var p=b.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(l);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return y},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return v(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<v(t)},p.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,a){var l=this,d=!!y.u(a)||a,b=y.p(t),p=function(t,e){var n=y.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?n:n.endOf(o)},h=function(t,e){return y.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},f=this.$W,m=this.$M,g=this.$D,O="set"+(this.$u?"UTC":"");switch(b){case c:return d?p(1,0):p(31,11);case s:return d?p(1,m):p(0,m+1);case r:var v=this.$locale().weekStart||0,$=(f<v?f+7:f)-v;return p(d?g-$:g+(6-$),m);case o:case u:return h(O+"Hours",0);case i:return h(O+"Minutes",1);case n:return h(O+"Seconds",2);case e:return h(O+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(r,a){var l,d=y.p(r),b="set"+(this.$u?"UTC":""),p=(l={},l[o]=b+"Date",l[u]=b+"Date",l[s]=b+"Month",l[c]=b+"FullYear",l[i]=b+"Hours",l[n]=b+"Minutes",l[e]=b+"Seconds",l[t]=b+"Milliseconds",l)[d],h=d===o?this.$D+(a-this.$W):a;if(d===s||d===c){var f=this.clone().set(u,1);f.$d[p](h),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[y.p(t)]()},p.add=function(t,a){var u,l=this;t=Number(t);var d=y.p(a),b=function(e){var n=v(l);return y.w(n.date(n.date()+Math.round(e*t)),l)};if(d===s)return this.set(s,this.$M+t);if(d===c)return this.set(c,this.$y+t);if(d===o)return b(1);if(d===r)return b(7);var p=(u={},u[n]=6e4,u[i]=36e5,u[e]=1e3,u)[d]||1,h=this.$d.getTime()+t*p;return y.w(h,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=y.z(this),o=this.$locale(),r=this.$H,s=this.$m,a=this.$M,c=o.weekdays,u=o.months,l=function(t,i,o,r){return t&&(t[i]||t(e,n))||o[i].substr(0,r)},b=function(t){return y.s(r%12||12,t,"0")},p=o.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:y.s(a+1,2,"0"),MMM:l(o.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:l(o.weekdaysMin,this.$W,c,2),ddd:l(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:y.s(r,2,"0"),h:b(1),hh:b(2),a:p(r,s,!0),A:p(r,s,!1),m:String(s),mm:y.s(s,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:i};return n.replace(d,function(t,e){return e||h[t]||i.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,u,l){var d,b=y.p(u),p=v(t),h=6e4*(p.utcOffset()-this.utcOffset()),f=this-p,m=y.m(this,p);return m=(d={},d[c]=m/12,d[s]=m,d[a]=m/3,d[r]=(f-h)/6048e5,d[o]=(f-h)/864e5,d[i]=f/36e5,d[n]=f/6e4,d[e]=f/1e3,d)[b]||f,l?m:y.a(m)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return m[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=O(t,e,!0);return i&&(n.$L=i),n},p.clone=function(){return y.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},b}(),N=$.prototype;return v.prototype=N,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",o],["$M",s],["$y",c],["$D",u]].forEach(function(t){N[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,$,v),t.$i=!0),v},v.locale=O,v.isDayjs=g,v.unix=function(t){return v(1e3*t)},v.en=m[f],v.Ls=m,v.p={},v}()},eDGZ:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("2Vo4"),o=n("itXk"),r=n("lJxs"),s=n("fXoL"),a=n("I/3d");let c=(()=>{class t{constructor(t){this._af=t,this._productList$=new i.a([]),this.productList$=this._productList$.asObservable(),this._tag$=new i.a("null"),this.tag$=this._tag$.asObservable(),this._category$=new i.a("all"),this.category$=this._category$.asObservable(),this._af.collection("products").stateChanges(["added","modified"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,n=t.payload.doc.data();return Object.assign({id:e},n)}))).subscribe(t=>{const e=[...this._productList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._productList$.next(e)})}getProducts(){return Object(o.a)([this.tag$,this.category$,this.productList$]).pipe(Object(r.a)(([t,e,n])=>{switch(!0){case"null"===t&&"all"===e:return n;case"null"!==t&&"all"!==e:return n.filter(n=>n.tag===t&&n.category===e);case"null"!==t&&"all"===e:return n.filter(e=>e.tag===t);case"null"==t&&"all"!==e:return n.filter(t=>t.category===e);default:return n.filter(n=>n.tag===t&&n.category===e)}}))}setTag(t){this._tag$.next(t)}setCategory(t){this._category$.next(t)}create(t){this._af.collection("products").add(t)}getByID(t){return this._af.collection("products",e=>e.where("id","==",t)).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(a.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},n4WL:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("mrSG"),o=n("fXoL"),r=n("TEn/"),s=n("Gdn9"),a=n("UbJi"),c=n("ENZJ"),u=n("ofXK");function l(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.dc("src",e.ngIf,o.ic)}function d(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.dc("src","assets/images/users/profile_32.png",o.ic)}let b=(()=>{class t{constructor(t,e,n,i){this.popoverController=t,this.serviceProduit=e,this._auth=n,this._postService=i}ngOnInit(){}getSmiley(t){return t.srcElement.innerText}sendComment(t){return Object(i.b)(this,void 0,void 0,function*(){const{uid:e=null}=yield this._auth.currentUser;this._postService.save({uid:e,productId:this.product.id,body:t.value}),(yield this.popoverController.getTop())&&this.popoverController.dismiss()})}ClosePopover(){this.popoverController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.cb),o.Jb(s.a),o.Jb(a.a),o.Jb(c.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-popover-comment"]],inputs:{product:"product",user$:"user$"},decls:37,vars:4,consts:[["fixed","",1,"ion-no-padding"],[1,"ion-no-padding"],["size","12",1,"ion-no-padding"],["lines","none"],[1,"smilies",3,"click"],["slot","start",1,"comment_avatar"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"inputComment"],["type","text","placeholder","Add a feed..."],["ic",""],["fill","clear","shape","round",3,"click"],["slot","end","name","send"],[3,"src"]],template:function(t,e){if(1&t){const t=o.Pb();o.Ob(0,"ion-grid",0),o.Ob(1,"ion-row",1),o.Ob(2,"ion-col",2),o.Ob(3,"ion-item",3),o.Ob(4,"ion-label",4),o.Wb("click",function(n){o.gc(t);const i=o.fc(34);return i.value=i.value+e.getSmiley(n)}),o.Ob(5,"span"),o.pc(6," \ud83d\udd25"),o.Nb(),o.Ob(7,"span"),o.pc(8," \ud83d\ude0a"),o.Nb(),o.Ob(9,"span"),o.pc(10," \ud83d\ude0d"),o.Nb(),o.Ob(11,"span"),o.pc(12," \ud83d\udc96"),o.Nb(),o.Ob(13,"span"),o.pc(14," \ud83d\udc4d"),o.Nb(),o.Ob(15,"span"),o.pc(16," \ud83d\udc4f"),o.Nb(),o.Ob(17,"span"),o.pc(18," \ud83c\udf3a"),o.Nb(),o.Ob(19,"span"),o.pc(20," \u2757"),o.Nb(),o.Ob(21,"span"),o.pc(22," \ud83d\uded1"),o.Nb(),o.Ob(23,"span"),o.pc(24," \u2695\ufe0f"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(25,"ion-col",2),o.Ob(26,"ion-item",3),o.Ob(27,"ion-avatar",5),o.nc(28,l,1,1,"img",6),o.Zb(29,"async"),o.nc(30,d,1,1,"ng-template",null,7,o.oc),o.Nb(),o.Ob(32,"ion-item",8),o.Kb(33,"ion-input",9,10),o.Ob(35,"ion-button",11),o.Wb("click",function(){o.gc(t);const n=o.fc(34);return e.sendComment(n)}),o.Kb(36,"ion-icon",12),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.fc(31);let n=null;o.zb(28),o.dc("ngIf",null==(n=o.ac(29,2,e.user$))?null:n.photoUrl)("ngIfElse",t)}},directives:[r.s,r.I,r.p,r.z,r.B,r.e,u.j,r.y,r.fb,r.h,r.u],pipes:[u.b],styles:["span[_ngcontent-%COMP%]{margin-right:8px;width:30px;height:30px}.smilies[_ngcontent-%COMP%]{display:flex;overflow:scroll}.inputComment[_ngcontent-%COMP%]{--border-width:0.2px!important;--border-color:var(--ion-color-medium);--border-radius:30px;font-size:12px}"]}),t})()}}]);
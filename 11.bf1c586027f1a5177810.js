(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/m2M":function(t,e,o){"use strict";o.r(e),o.d(e,"TabsModule",function(){return b});var n=o("ofXK"),i=o("tyNb"),r=o("mrSG"),a=o("81uL"),s=o("fXoL"),c=o("TEn/");const l=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t}ngOnInit(){}openModal(){return Object(r.b)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:a.a,componentProps:{productName:"",productImg:""},cssClass:"modal"});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.bb))},t.\u0275cmp=s.Db({type:t,selectors:[["app-tabs"]],decls:23,vars:0,consts:[["slot","bottom"],["tab","home"],["name","home"],["tab","search"],["name","search"],["tab","ask",1,"askTab"],["name","help",1,"askIcon"],["tab",""],["name","notifications-circle-outline"],["tab","profil"],["name","person-circle-outline"]],template:function(t,e){1&t&&(s.Ob(0,"ion-tabs"),s.Ob(1,"ion-tab-bar",0),s.Ob(2,"ion-tab-button",1),s.Kb(3,"ion-icon",2),s.Ob(4,"ion-label"),s.pc(5,"Home"),s.Nb(),s.Nb(),s.Ob(6,"ion-tab-button",3),s.Kb(7,"ion-icon",4),s.Ob(8,"ion-label"),s.pc(9,"Search"),s.Nb(),s.Nb(),s.Ob(10,"ion-tab-button",5),s.Kb(11,"ion-icon",6),s.Ob(12,"ion-text"),s.Ob(13,"ion-label"),s.pc(14,"Ask"),s.Nb(),s.Nb(),s.Nb(),s.Ob(15,"ion-tab-button",7),s.Kb(16,"ion-icon",8),s.Ob(17,"ion-label"),s.pc(18,"Notifications"),s.Nb(),s.Nb(),s.Ob(19,"ion-tab-button",9),s.Kb(20,"ion-icon",10),s.Ob(21,"ion-label"),s.pc(22,"Profil"),s.Nb(),s.Nb(),s.Nb(),s.Nb())},directives:[c.S,c.Q,c.R,c.u,c.B,c.T],styles:["ion-tab-bar[_ngcontent-%COMP%]{--color-selected:var(--ion-color-primary,#3880ff)}.askTab[_ngcontent-%COMP%]{height:70px;border-radius:50%;background:#fff;z-index:100;max-width:70px;color:var(--ion-color-primary,#3880ff);border:4px solid var(--ion-color-primary,#3880ff);margin-top:-18px}ion-tab-bar[_ngcontent-%COMP%]{contain:none}"]}),t})(),children:[{path:"home",loadChildren:()=>Promise.all([o.e(0),o.e(15)]).then(o.bind(null,"fOOd")).then(t=>t.HomeModule)},{path:"search",loadChildren:()=>Promise.all([o.e(0),o.e(20)]).then(o.bind(null,"Wlq6")).then(t=>t.SearchModule)},{path:"detail",loadChildren:()=>Promise.all([o.e(0),o.e(14)]).then(o.bind(null,"FSlI")).then(t=>t.DetailModule)},{path:"profil",loadChildren:()=>Promise.all([o.e(0),o.e(18)]).then(o.bind(null,"L+dR")).then(t=>t.ProfilModule)},{path:"add",loadChildren:()=>o.e(12).then(o.bind(null,"IZC+")).then(t=>t.AddProductModule)},{path:"ask",loadChildren:()=>o.e(13).then(o.bind(null,"Sa0y")).then(t=>t.AskModule)},{path:"",redirectTo:"home",pathMatch:"full"}]}];let d=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(l)],i.g]}),t})();var u=o("PCNd");let b=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[n.c,c.Y,d,u.a]]}),t})()},"81uL":function(t,e,o){"use strict";o.d(e,"a",function(){return h});var n=o("mrSG"),i=o("3Pt+"),r=o("fXoL"),a=o("TEn/"),s=o("eDGZ"),c=o("ENZJ"),l=o("UbJi"),d=o("ofXK");function u(t,e){if(1&t&&(r.Ob(0,"ion-thumbnail",22),r.Kb(1,"ion-img",23),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.dc("src",t.productImg)}}function b(t,e){1&t&&r.Kb(0,"ion-icon",24)}function p(t,e){1&t&&r.Kb(0,"ion-icon",25)}function m(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ion-item",26),r.Wb("click",function(){r.gc(t);const o=e.$implicit,n=r.Yb(),i=r.fc(30);return n.selected(o,i)}),r.pc(1),r.Nb()}if(2&t){const t=e.$implicit;r.zb(1),r.rc(" ",t," ")}}let h=(()=>{class t{constructor(t,e,o,n,i){this.modatCtrl=t,this._formBuilder=e,this._productListService=o,this._postService=n,this._auth=i,this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"],this.items=[]}ngOnInit(){return Object(n.b)(this,void 0,void 0,function*(){this.form=this._formBuilder.group({product_name:[this.productName,i.l.required],feed:["",i.l.required],brand:["",i.l.required],tag:["",i.l.required],category:["",i.l.required]}),this.user=yield this._auth.currentUser})}inputChanged(t){const e=t.target.value;this.items=e.length<=0?[]:this.tags.filter(t=>t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))}selected(t,e){e.value="",this.form.patchValue({tag:t}),this.items=[]}onSubmit(){var t;const e=Math.floor(1e3*Math.random()).toString()+"n",o=this.form.get("feed").value,n=this.form.get("product_name").value,i=this.form.get("tag").value,r=this.form.get("category").value,a=this.form.get("brand").value,s=new Date,c={uid:null===(t=this.user)||void 0===t?void 0:t.uid,productId:e,body:o,date:s};this._productListService.create({productId:e,product_name:n,brand:a,tag:i,category:r,created_datetime:s,imageUrl:this.productImg,likes:0}),this._postService.save(c),this.modatCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a.bb),r.Jb(i.a),r.Jb(s.a),r.Jb(c.a),r.Jb(l.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-modal-add"]],inputs:{productName:"productName",productImg:"productImg"},decls:47,vars:6,consts:[[3,"formGroup","ngSubmit"],["fill","clear","size","small",1,"close",3,"click"],["color","medium","name","close"],[1,"ion-no-padding","ion-no-margin"],["slot","start",4,"ngIf"],["position","floating",1,"ion-no-padding","ion-no-margin"],["formControlName","product_name","type","text",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","camera-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["color","primary","slot","end","name","image-outline","class","ion-no-padding ion-no-margin",4,"ngIf"],["position","floating"],["formControlName","feed","type","text"],["formControlName","brand","type","text"],["formControlName","tag","type","text",3,"ionInput"],["inputTag",""],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["formControlName","category","value","","okText","Okay","cancelText","Dismiss"],["value","industriel"],["value","biologique"],["value","artisanal"],["value","paramedical"],["expand","block","size","medium","color","medium","type","submit",1,"postBtn"],["slot","start"],[3,"src"],["color","primary","slot","end","name","camera-outline",1,"ion-no-padding","ion-no-margin"],["color","primary","slot","end","name","image-outline",1,"ion-no-padding","ion-no-margin"],[3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"ion-content"),r.Ob(1,"form",0),r.Wb("ngSubmit",function(){return e.onSubmit()}),r.Ob(2,"ion-grid"),r.Ob(3,"ion-row"),r.Ob(4,"ion-card"),r.Ob(5,"ion-card-header"),r.Ob(6,"ion-card-title"),r.pc(7,"Add a feed"),r.Nb(),r.Ob(8,"ion-button",1),r.Wb("click",function(){return e.modatCtrl.dismiss()}),r.Kb(9,"ion-icon",2),r.Nb(),r.Nb(),r.Ob(10,"ion-card-content"),r.Ob(11,"ion-item",3),r.nc(12,u,2,1,"ion-thumbnail",4),r.Ob(13,"ion-label",5),r.pc(14," Product "),r.Nb(),r.Kb(15,"ion-input",6),r.nc(16,b,1,0,"ion-icon",7),r.nc(17,p,1,0,"ion-icon",8),r.Nb(),r.Ob(18,"ion-item",3),r.Ob(19,"ion-label",9),r.pc(20,"Feed"),r.Nb(),r.Kb(21,"ion-input",10),r.Nb(),r.Ob(22,"ion-item",3),r.Ob(23,"ion-label",9),r.pc(24,"Brand"),r.Nb(),r.Kb(25,"ion-input",11),r.Nb(),r.Ob(26,"ion-item",3),r.Ob(27,"ion-label",9),r.pc(28,"Select tag"),r.Nb(),r.Ob(29,"ion-input",12,13),r.Wb("ionInput",function(t){return e.inputChanged(t)}),r.Nb(),r.Ob(31,"ion-list",14),r.nc(32,m,2,1,"ion-item",15),r.Nb(),r.Nb(),r.Ob(33,"ion-item",3),r.Ob(34,"ion-label",9),r.pc(35,"Category"),r.Nb(),r.Ob(36,"ion-select",16),r.Ob(37,"ion-select-option",17),r.pc(38,"industriel"),r.Nb(),r.Ob(39,"ion-select-option",18),r.pc(40,"biologique"),r.Nb(),r.Ob(41,"ion-select-option",19),r.pc(42,"artisanal"),r.Nb(),r.Ob(43,"ion-select-option",20),r.pc(44,"param\xe9dical"),r.Nb(),r.Nb(),r.Nb(),r.Ob(45,"ion-button",21),r.pc(46," Post "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.dc("formGroup",e.form),r.zb(11),r.dc("ngIf",""!==e.productImg),r.zb(4),r.dc("ngIf",""===e.productImg),r.zb(1),r.dc("ngIf",""===e.productImg),r.zb(14),r.dc("hidden",e.items.length<=0),r.zb(1),r.dc("ngForOf",e.items))},directives:[a.q,i.m,i.h,i.c,a.s,a.I,a.j,a.l,a.m,a.h,a.u,a.k,a.z,d.j,a.B,a.y,a.fb,i.g,i.b,a.C,d.i,a.M,a.eb,a.N,a.V,a.v],styles:["ion-card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.5);background:var(--ion-color-light)}ion-label[_ngcontent-%COMP%]{font-size:12px}.close[_ngcontent-%COMP%]{position:absolute;right:1px;top:1px}.postBtn[_ngcontent-%COMP%]{margin-top:30px;letter-spacing:4px;text-transform:uppercase}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),t})()},ENZJ:function(t,e,o){"use strict";o.d(e,"a",function(){return b});var n=o("mrSG"),i=o("2Vo4"),r=o("lJxs"),a=o("eIep"),s=o("SxV6"),c=o("fXoL"),l=o("tk/3"),d=o("qfBg"),u=o("I/3d");let b=(()=>{class t{constructor(t,e,o){this.http=t,this._userService=e,this._af=o,this._postsList$=new i.a([]),this.postsList$=this._postsList$.asObservable(),this._af.collection("posts").stateChanges(["added"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,o=t.payload.doc.data();return Object.assign({id:e},o)}))).subscribe(t=>{const e=[...this._postsList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._postsList$.next(e)})}getPostsByProduct(t){return this._af.collection("posts",e=>e.where("productId","==",t)).valueChanges().pipe(Object(a.a)(t=>Object(n.b)(this,void 0,void 0,function*(){const e=yield this._userService.getAll().pipe(Object(s.a)()).toPromise();return console.log("users",e),t.map(t=>{var o,n;const i=t.uid,r=e.filter(t=>t.uid===i);return Object.assign(Object.assign({},t),{username:null===(o=r[0])||void 0===o?void 0:o.username,photoUrl:null===(n=r[0])||void 0===n?void 0:n.photoUrl})})})))}save(t){const e=this._af.createId(),o={id:e,productId:t.productId,uid:t.uid,body:t.body,date:Date.now()};this._af.collection("posts").doc(e).set(o)}getFirstPostsByProduct(t){return Object(n.b)(this,void 0,void 0,function*(){const e=yield this._af.collection("posts",e=>e.where("productId","==",t)).valueChanges().pipe(Object(s.a)()).toPromise();if(e.length<=0)return;const o=e[0].uid,n=yield this._userService.getByUid(o).pipe(Object(s.a)()).toPromise();return Object.assign(Object.assign({},e[0]),{username:null==n?void 0:n.username,photoUrl:null==n?void 0:n.photoUrl})})}isUserFeed(t,e){return Object(n.b)(this,void 0,void 0,function*(){return(yield this._af.collection("posts",o=>o.where("productId","==",e).where("uid","==",t)).valueChanges().pipe(Object(s.a)()).toPromise()).length>0})}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(l.a),c.Sb(d.a),c.Sb(u.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},PCNd:function(t,e,o){"use strict";o.d(e,"a",function(){return s});var n=o("ofXK"),i=o("TEn/"),r=o("3Pt+"),a=o("fXoL");o("81uL");let s=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[n.c,i.Y,r.j,r.d]]}),t})()},eDGZ:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var n=o("2Vo4"),i=o("itXk"),r=o("lJxs"),a=o("fXoL"),s=o("I/3d");let c=(()=>{class t{constructor(t){this._af=t,this._productList$=new n.a([]),this.productList$=this._productList$.asObservable(),this._tag$=new n.a("null"),this.tag$=this._tag$.asObservable(),this._category$=new n.a("all"),this.category$=this._category$.asObservable(),this._af.collection("products").stateChanges(["added","modified"]).pipe(Object(r.a)(t=>t.map(t=>{const e=t.payload.doc.id,o=t.payload.doc.data();return Object.assign({id:e},o)}))).subscribe(t=>{const e=[...this._productList$.value.filter(e=>!t.find(t=>t.id===e.id)),...t];this._productList$.next(e)})}getProducts(){return Object(i.a)([this.tag$,this.category$,this.productList$]).pipe(Object(r.a)(([t,e,o])=>{switch(!0){case"null"===t&&"all"===e:return o;case"null"!==t&&"all"!==e:return o.filter(o=>o.tag===t&&o.category===e);case"null"!==t&&"all"===e:return o.filter(e=>e.tag===t);case"null"==t&&"all"!==e:return o.filter(t=>t.category===e);default:return o.filter(o=>o.tag===t&&o.category===e)}}))}setTag(t){this._tag$.next(t)}setCategory(t){this._category$.next(t)}create(t){this._af.collection("products").add(t)}getByID(t){return this._af.collection("products",e=>e.where("id","==",t)).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(s.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
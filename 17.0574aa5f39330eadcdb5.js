(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"vm+o":function(e,o,r){"use strict";r.r(o),r.d(o,"LoginModule",function(){return N});var n=r("ofXK"),t=r("tyNb"),i=r("mrSG"),s=r("3Pt+"),l=r("gcOT"),a=r("cu8M"),c=r("fXoL"),d=r("UbJi"),b=r("qfBg"),u=r("TEn/");function p(e,o){1&e&&(c.Ob(0,"span"),c.qc(1,"Email is required"),c.Nb())}function g(e,o){1&e&&(c.Ob(0,"span"),c.qc(1,"Email is invalid"),c.Nb())}function f(e,o){if(1&e&&(c.Ob(0,"div",9),c.oc(1,p,2,0,"span",10),c.oc(2,g,2,0,"span",10),c.Nb()),2&e){const e=c.Yb();c.zb(1),c.ec("ngIf",null==e.email.errors?null:e.email.errors.required),c.zb(1),c.ec("ngIf",null==e.email.errors?null:e.email.errors.email)}}function m(e,o){1&e&&(c.Ob(0,"span"),c.qc(1,"Password is required"),c.Nb())}function h(e,o){1&e&&(c.Ob(0,"span"),c.qc(1,"Password needs to be 6 characters"),c.Nb())}function v(e,o){if(1&e&&(c.Ob(0,"div",9),c.oc(1,m,2,0,"span",10),c.oc(2,h,2,0,"span",10),c.Nb()),2&e){const e=c.Yb();c.zb(1),c.ec("ngIf",null==e.password.errors?null:e.password.errors.required),c.zb(1),c.ec("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}const{Storage:w}=l.d,y=[{path:"",component:(()=>{class e{constructor(e,o,r,n,t,i){this._fb=e,this._authService=o,this._userService=r,this._alertController=n,this._router=t,this._loadingController=i}ngOnInit(){this.credentials=this._fb.group({email:["",[s.l.required,s.l.email]],password:["",[s.l.required,s.l.minLength(6)]]})}loginWithGoogle(){return Object(i.b)(this,void 0,void 0,function*(){yield w.set({key:a.c,value:"true"}),this._userService.GoogleAuth()})}login(){return Object(i.b)(this,void 0,void 0,function*(){const e=yield this._loadingController.create();yield e.present(),this._authService.signInWithEmailAndPassword(this.credentials.controls.email.value,this.credentials.controls.password.value).then(o=>Object(i.b)(this,void 0,void 0,function*(){yield e.dismiss(),this._router.navigateByUrl("/home",{replaceUrl:!0})}),o=>Object(i.b)(this,void 0,void 0,function*(){yield e.dismiss();const r=yield this._alertController.create({header:"Login failed",message:o.error.error,buttons:["OK"]});yield r.present()}))})}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}}return e.\u0275fac=function(o){return new(o||e)(c.Jb(s.a),c.Jb(d.a),c.Jb(b.a),c.Jb(u.b),c.Jb(t.e),c.Jb(u.X))},e.\u0275cmp=c.Db({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email","autocomplete","off"],["class","errors",4,"ngIf"],["type","password","placeholder","Password","formControlName","password","autocomplete","off"],["type","submit","expand","block"],["routerLink","/register","type","button","expand","block","color","primary","fill","clear"],["type","button","expand","block","color","tertiary",3,"click"],["name","logo-google","slot","start"],[1,"errors"],[4,"ngIf"]],template:function(e,o){1&e&&(c.Ob(0,"ion-content"),c.Ob(1,"form",0),c.Wb("ngSubmit",function(){return o.login()}),c.Ob(2,"div",1),c.Ob(3,"ion-item"),c.Kb(4,"ion-input",2),c.Nb(),c.oc(5,f,3,2,"div",3),c.Ob(6,"ion-item"),c.Kb(7,"ion-input",4),c.Nb(),c.oc(8,v,3,2,"div",3),c.Nb(),c.Ob(9,"ion-button",5),c.qc(10,"Log in"),c.Nb(),c.Ob(11,"ion-button",6),c.qc(12,"Not yet a member? Sign up! "),c.Nb(),c.Ob(13,"ion-button",7),c.Wb("click",function(){return o.loginWithGoogle()}),c.Kb(14,"ion-icon",8),c.qc(15," Sign in with Google "),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.zb(1),c.ec("formGroup",o.credentials),c.zb(4),c.ec("ngIf",(o.email.dirty||o.email.touched)&&o.email.errors),c.zb(3),c.ec("ngIf",(o.password.dirty||o.password.touched)&&o.password.errors))},directives:[u.q,s.m,s.h,s.c,u.z,u.y,u.db,s.g,s.b,n.k,u.h,t.f,u.bb,u.u],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%}.input-group[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;margin-bottom:15px}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(o){return new(o||e)},imports:[[t.g.forChild(y)],t.g]}),e})(),N=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(o){return new(o||e)},imports:[[n.c,O,u.W,s.j]]}),e})()}}]);
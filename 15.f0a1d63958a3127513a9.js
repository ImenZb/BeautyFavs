(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{fOOd:function(i,n,t){"use strict";t.r(n),t.d(n,"HomeModule",function(){return j});var e=t("ofXK"),o=t("tyNb"),s=t("mrSG"),c=t("2Vo4"),a=t("n4WL"),r=t("Nf9K"),l=t("SxV6"),b=t("fXoL"),d=t("UbJi"),p=t("qfBg"),u=t("TEn/"),m=t("eDGZ"),g=t("ENZJ"),h=t("P3Ni"),f=t("+acA");let v=(()=>{class i{constructor(i){this._likeService=i}transform(i){return this._likeService.getCount(i)}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(h.a))},i.\u0275pipe=b.Ib({name:"likesCount",type:i,pure:!0}),i})(),O=(()=>{class i{constructor(i){this._postService=i}transform(i){return this._postService.getFirstPostsByProduct(i)}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(g.a))},i.\u0275pipe=b.Ib({name:"first",type:i,pure:!0}),i})(),x=(()=>{class i{constructor(i){this._likeService=i}transform(i){return this._likeService.isLiked(i)}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(h.a))},i.\u0275pipe=b.Ib({name:"likesInit",type:i,pure:!0}),i})(),k=(()=>{class i{constructor(i){this._favService=i}transform(i){return this._favService.isFav$(i)}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(f.a))},i.\u0275pipe=b.Ib({name:"favInit",type:i,pure:!0}),i})();function _(i,n){if(1&i&&(b.Ob(0,"ion-segment-button",17),b.Ob(1,"ion-label"),b.pc(2),b.Nb(),b.Nb()),2&i){const i=n.$implicit;b.dc("value",i),b.zb(2),b.qc(i)}}function y(i,n){if(1&i&&(b.Kb(0,"ion-icon",43),b.Zb(1,"async")),2&i){const i=b.Yb().index,n=b.Yb();b.dc("name",b.ac(1,1,n.productsisLiked$)[i]?"heart":"heart-outline")}}function N(i,n){if(1&i&&(b.Kb(0,"ion-icon",43),b.Zb(1,"async"),b.Zb(2,"likesInit")),2&i){const i=b.Yb().$implicit;b.dc("name",b.ac(1,1,b.ac(2,3,i.id))?"heart":"heart-outline")}}function C(i,n){if(1&i&&(b.Kb(0,"ion-icon",44),b.Zb(1,"async")),2&i){const i=b.Yb().index,n=b.Yb();b.dc("name",b.ac(1,1,n.productsisFav$)[i]?"bookmark":"bookmark-outline")}}function $(i,n){if(1&i&&(b.Kb(0,"ion-icon",43),b.Zb(1,"async"),b.Zb(2,"favInit")),2&i){const i=b.Yb().$implicit;b.dc("name",b.ac(1,1,b.ac(2,3,i.id))?"bookmark":"bookmark-outline")}}function L(i,n){if(1&i){const i=b.Pb();b.Ob(0,"ion-chip",24),b.Ob(1,"ion-label",45),b.pc(2),b.Nb(),b.Ob(3,"ion-note"),b.Ob(4,"p",46),b.pc(5),b.Nb(),b.Ob(6,"p",46),b.pc(7),b.Zb(8,"date"),b.Nb(),b.Nb(),b.Ob(9,"ion-button",47),b.Wb("click",function(){b.gc(i);const n=b.Yb().$implicit;return b.Yb().openModal(n)}),b.Ob(10,"span",48),b.pc(11,"See all feeds"),b.Nb(),b.Nb(),b.Nb()}if(2&i){const i=n.ngIf;b.mc("background","#fff"),b.zb(2),b.rc("",i.username,", "),b.zb(3),b.qc(i.body),b.zb(2),b.qc(b.ac(8,5,null==i||null==i.date?null:i.date.toDate()))}}function P(i,n){1&i&&(b.Ob(0,"ion-chip",49),b.Ob(1,"ion-button",50),b.Ob(2,"span",48),b.pc(3,"0 feed"),b.Nb(),b.Nb(),b.Nb()),2&i&&b.mc("background","#fff")}function F(i,n){1&i&&b.Kb(0,"img",51),2&i&&b.dc("src",n.ngIf,b.ic)}function w(i,n){1&i&&b.Kb(0,"img",52)}function z(i,n){if(1&i){const i=b.Pb();b.Ob(0,"ion-card",18),b.Ob(1,"ion-item",19),b.Ob(2,"ion-label",20),b.Ob(3,"h2",21),b.pc(4),b.Nb(),b.Ob(5,"ion-text",22),b.Ob(6,"p",1),b.pc(7),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Kb(8,"img",23),b.Ob(9,"ion-card-header",24),b.Ob(10,"ion-button",25),b.Wb("click",function(){b.gc(i);const t=n.$implicit,e=n.index;return b.Yb().toggleLikes(t,e)}),b.nc(11,y,2,3,"ion-icon",26),b.Zb(12,"async"),b.nc(13,N,3,5,"ng-template",null,27,b.oc),b.Ob(15,"ion-note"),b.pc(16),b.Zb(17,"async"),b.Zb(18,"likesCount"),b.Nb(),b.Nb(),b.Ob(19,"ion-button",28),b.Wb("click",function(){b.gc(i);const t=n.$implicit,e=n.index;return b.Yb().toggleFavs(t,e)}),b.nc(20,C,2,3,"ion-icon",29),b.Zb(21,"async"),b.nc(22,$,3,5,"ng-template",null,30,b.oc),b.Nb(),b.Nb(),b.Ob(24,"ion-card-content",24),b.Ob(25,"ion-list-header",31),b.nc(26,L,12,7,"ion-chip",32),b.Zb(27,"async"),b.Zb(28,"first"),b.nc(29,P,4,2,"ng-template",null,33,b.oc),b.Nb(),b.Kb(31,"ion-item-divider"),b.Ob(32,"ion-item",34),b.Wb("click",function(t){b.gc(i);const e=n.$implicit;return b.Yb().presentPopover(t,e)}),b.Ob(33,"ion-avatar",35),b.nc(34,F,1,1,"img",36),b.Zb(35,"async"),b.nc(36,w,1,0,"ng-template",null,37,b.oc),b.Nb(),b.Ob(38,"ion-label",38),b.Ob(39,"ion-text",39),b.Ob(40,"p",40),b.pc(41),b.Zb(42,"async"),b.Nb(),b.Nb(),b.Ob(43,"ion-button",41),b.Wb("click",function(t){b.gc(i);const e=n.$implicit;return b.Yb().presentPopover(t,e)}),b.Kb(44,"ion-icon",42),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&i){const i=n.$implicit,t=b.fc(14),e=b.fc(23),o=b.fc(30),s=b.fc(37),c=b.Yb();let a=null,r=null;b.zb(4),b.qc(i.product_name),b.zb(3),b.qc(i.brand),b.zb(1),b.dc("src",i.image_url,b.ic),b.zb(3),b.dc("ngIf",null!==b.ac(12,13,c.isLiked$))("ngIfElse",t),b.zb(5),b.qc(b.ac(17,15,b.ac(18,17,i.id))),b.zb(4),b.dc("ngIf",null!==b.ac(21,19,c.isFav$))("ngIfElse",e),b.zb(6),b.dc("ngIf",b.ac(27,21,b.ac(28,23,i.id)))("ngIfElse",o),b.zb(8),b.dc("ngIf",null==(a=b.ac(35,25,c.user$))?null:a.photoUrl)("ngIfElse",s),b.zb(7),b.rc("",null==(r=b.ac(42,27,c.user$))?null:r.username," add a feed")}}const I=[{path:"",component:(()=>{class i{constructor(i,n,t,e,o,s,a,r){this._auth=i,this._userService=n,this.popoverController=t,this.modalController=e,this._productListService=o,this._postService=s,this._likeService=a,this._favService=r,this.min=0,this.max=10,this.category="all",this.searchTag=null,this.tags=["anti-acne","anti-rides","anti-rougeurs","anti-UV","bronzant","hydratant","nettoyant","peaux-sensibles","peaux-mixtes","peaux-seches","peaux-normales","cheveux","masque","corps","rasage","mains"],this._isLiked$=new c.a(null),this.isLiked$=this._isLiked$.asObservable(),this._isFav$=new c.a(null),this.isFav$=this._isFav$.asObservable(),this._productsisFav$=new c.a([]),this.productsisFav$=this._productsisFav$.asObservable(),this.productsisFav=[],this._productsisLiked$=new c.a([]),this.productsisLiked$=this._productsisFav$.asObservable(),this.productsisLiked=[]}ngOnInit(){return Object(s.b)(this,void 0,void 0,function*(){this.productList$=this._productListService.getProducts();const{uid:i=null}=yield this._auth.currentUser;this.user$=this._userService.getByUid(i),this.productsisFav=(yield this.productList$.toPromise()).map(i=>this.isFav(i)),this._productsisFav$.next(this.productsisFav),this.productsisLiked=(yield this.productList$.toPromise()).map(i=>this.isLiked(i)),this._productsisLiked$.next(this.productsisLiked)})}presentPopover(i,n){return Object(s.b)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:a.a,cssClass:"custom-popover",event:i,translucent:!0,componentProps:{product:n,user$:this.user$}});return yield t.present()})}openModal(i){return Object(s.b)(this,void 0,void 0,function*(){const n=yield this.modalController.create({component:r.a,componentProps:{produit:i,user$:this.user$}});yield n.present()})}segmentChanged(i){this._productListService.setTag(i.detail.value)}onChange(i){this._productListService.setCategory(i.target.value)}loadData(i){this.max=this.max+10,i.target.complete()}toggleLike(i){return Object(s.b)(this,void 0,void 0,function*(){const n=yield this._likeService.isLiked(i.id).pipe(Object(l.a)()).toPromise();n?yield this.removeLike(i.id):yield this.addLike(i.id),this._isLiked$.next(!n)})}isLiked(i){return Object(s.b)(this,void 0,void 0,function*(){return yield this._likeService.isLiked(i.id).pipe(Object(l.a)()).toPromise()})}toggleLikes(i,n){return Object(s.b)(this,void 0,void 0,function*(){const t=yield this._likeService.isLiked(i.id).pipe(Object(l.a)()).toPromise();t?yield this.removeLike(i.id):yield this.addLike(i.id),this.productsisLiked[n]=!t,this._productsisLiked$.next(this.productsisLiked)})}addLike(i){return Object(s.b)(this,void 0,void 0,function*(){yield this._likeService.add({id:i})})}removeLike(i){return Object(s.b)(this,void 0,void 0,function*(){yield this._likeService.remove(i)})}toggleFav(i){return Object(s.b)(this,void 0,void 0,function*(){const n=yield this._favService.isFav$(i.id).pipe(Object(l.a)()).toPromise();n?yield this.removeFav(i.id):yield this.addFav(i.id),this._isFav$.next(!n)})}isFav(i){return Object(s.b)(this,void 0,void 0,function*(){return yield this._favService.isFav$(i.id).pipe(Object(l.a)()).toPromise()})}toggleFavs(i,n){return Object(s.b)(this,void 0,void 0,function*(){const t=yield this._favService.isFav$(i.id).pipe(Object(l.a)()).toPromise();t?yield this.removeFav(i.id):yield this.addFav(i.id),this.productsisFav[n]=!t,this._productsisFav$.next(this.productsisFav)})}addFav(i){return Object(s.b)(this,void 0,void 0,function*(){yield this._favService.add({id:i})})}removeFav(i){return Object(s.b)(this,void 0,void 0,function*(){yield this._favService.remove(i)})}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(d.a),b.Jb(p.a),b.Jb(u.cb),b.Jb(u.bb),b.Jb(m.a),b.Jb(g.a),b.Jb(h.a),b.Jb(f.a))},i.\u0275cmp=b.Db({type:i,selectors:[["app-home"]],decls:34,vars:4,consts:[[1,"ion-no-padding"],[1,"ion-text-capitalize"],["slot","end",1,"ion-no-padding"],["color","dark"],["ok-text","Ok","cancel-text","Cancel","value","all",3,"ionChange"],["value","all"],["value","paramedical"],["value","biologique"],["value","artisanal"],["value","industriel"],["color","medium","value","null","scrollable","",1,"ion-no-margin","SwipedTabs-tabs","ion-text-capitalize",3,"ionChange"],["value","null",1,"ion-no-padding"],["class","ion-no-padding","color","medium","layout","icon-start",3,"value",4,"ngFor","ngForOf"],["size","12",1,"ion-no-padding"],["class","ion-margin-bottom",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["color","medium","layout","icon-start",1,"ion-no-padding",3,"value"],[1,"ion-margin-bottom"],[1,"brandItem"],[1,"ion-no-margin"],[1,"ion-no-margin","ion-text-capitalize","name"],["color","primary"],[1,"post_img",3,"src"],[1,"ion-no-padding","ion-no-margin"],["fill","clear","shape","round","size","small",1,"ion-no-padding","ion-no-margin",3,"click"],["slot","icon-only",3,"name",4,"ngIf","ngIfElse"],["initLike",""],["fill","clear","shape","round","size","small",1,"bookmark",3,"click"],[3,"name",4,"ngIf","ngIfElse"],["initFav",""],["lines","line",1,"ion-no-padding","ion-no-margin","ion-padding-bottom"],["class","ion-no-padding ion-no-margin",3,"background",4,"ngIf","ngIfElse"],["comment",""],["lines","none",3,"click"],["slot","start",1,"comment_avatar"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"inputComment","ion-padding"],["color","medium"],[1,"s-text2"],["fill","clear","sizs","small",3,"click"],["slot","end","name","send"],["slot","icon-only",3,"name"],[3,"name"],[1,"post_label"],[1,"post-text"],["fill","clear","size","small",3,"click"],[1,"comment-text1"],[1,"ion-text-center"],["fill","clear","size","small",1,"ion-no-padding","ion-no-margin","text","center"],[3,"src"],["src","assets/images/users/profile_32.png"]],template:function(i,n){if(1&i&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar",0),b.Ob(2,"ion-title",0),b.Ob(3,"h1",1),b.pc(4,"BeautyFavs"),b.Nb(),b.Nb(),b.Ob(5,"ion-buttons",2),b.Ob(6,"ion-button",3),b.Ob(7,"ion-item"),b.Ob(8,"ion-select",4),b.Wb("ionChange",function(i){return n.onChange(i)}),b.Ob(9,"ion-select-option",5),b.pc(10,"All"),b.Nb(),b.Ob(11,"ion-select-option",6),b.pc(12,"Paramedical"),b.Nb(),b.Ob(13,"ion-select-option",7),b.pc(14,"Biologique"),b.Nb(),b.Ob(15,"ion-select-option",8),b.pc(16,"Artisanal"),b.Nb(),b.Ob(17,"ion-select-option",9),b.pc(18,"Industriel"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(19,"ion-toolbar"),b.Ob(20,"ion-segment",10),b.Wb("ionChange",function(i){return n.segmentChanged(i)}),b.Ob(21,"ion-segment-button",11),b.Ob(22,"ion-label"),b.pc(23,"All"),b.Nb(),b.Nb(),b.nc(24,_,3,2,"ion-segment-button",12),b.Nb(),b.Nb(),b.Nb(),b.Ob(25,"ion-content"),b.Ob(26,"ion-grid",0),b.Ob(27,"ion-row",0),b.Ob(28,"ion-col",13),b.Ob(29,"ion-list",0),b.nc(30,z,45,29,"ion-card",14),b.Zb(31,"async"),b.Nb(),b.Ob(32,"ion-infinite-scroll",15),b.Wb("ionInfinite",function(i){return n.loadData(i)}),b.Kb(33,"ion-infinite-scroll-content",16),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&i){let i=null;b.zb(24),b.dc("ngForOf",n.tags.sort()),b.zb(6),b.dc("ngForOf",null==(i=b.ac(31,2,n.productList$))?null:i.slice(n.min,n.max))}},directives:[u.t,u.X,u.W,u.i,u.h,u.z,u.M,u.eb,u.N,u.K,u.L,u.B,e.j,u.q,u.s,u.I,u.p,u.C,u.w,u.x,u.j,u.T,u.l,e.k,u.G,u.k,u.D,u.A,u.e,u.u,u.o],pipes:[e.b,v,O,x,k,e.e],styles:[".img-wrapper[_ngcontent-%COMP%]{min-height:40px;width:100%;background-size:cover;background-repeat:no-repeat;vertical-align:middle}.post_img[_ngcontent-%COMP%]{width:100%;max-height:300px}.post_avatar[_ngcontent-%COMP%]{padding:2px;height:35px;width:35px}.post_label[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px!important;font-weight:700;padding-left:5px}.post-text[_ngcontent-%COMP%], .post_label[_ngcontent-%COMP%]{color:#1e2023!important}.post-text[_ngcontent-%COMP%]{font-size:12px;margin:0 6px}.comment-text1[_ngcontent-%COMP%]{margin:2.5px 6px 0 16px}.comment-text1[_ngcontent-%COMP%], .comment-text2[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.comment-text2[_ngcontent-%COMP%]{display:inline;margin:2px 6px 0 0}.comment_avatar[_ngcontent-%COMP%]{padding:1px;height:40px;width:40px}.bookmark[_ngcontent-%COMP%]{position:absolute;right:-20px}ion-segment[_ngcontent-%COMP%]{height:40px;min-height:40px;padding-top:5px}ion-segment-button[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:var(--ion-color-medium);text-transform:capitalize;--border-color:#f2f2f2;--border-radius:5px;--border-style:solid;--border-width:1px;height:30px;min-height:30px;min-width:100px;--padding-end:3px;color:#1e2023}ion-card[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 rgba(157,96,212,.5);border:3px solid transparent;background-image:linear-gradient(hsla(0,0%,100%,0),hsla(0,0%,100%,0)),linear-gradient(101deg,#78e4ff,#ff48fa);background-origin:border-box;background-clip:content-box,border-box;box-shadow:inset 2px 1000px 1px #fff}ion-item.brandItem[_ngcontent-%COMP%]{--padding-start:2px;font-weight:550}h2.name[_ngcontent-%COMP%]{font-weight:550}.inputComment[_ngcontent-%COMP%]{border:1px solid #f5f6f9;border-radius:50px;font-size:12px;background-color:#f5f6f9;position:relative}.inputComment[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;right:5px;top:8px}ion-item-divider[_ngcontent-%COMP%]{min-height:1px}"]}),i})()}];let S=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(n){return new(n||i)},imports:[[o.g.forChild(I)],o.g]}),i})();var M=t("PCNd");let j=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(n){return new(n||i)},imports:[[e.c,S,u.Y,M.a]]}),i})()}}]);
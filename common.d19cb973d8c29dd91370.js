(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"74mu":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return c});const i=(t,e)=>null!==e.closest(t),o=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},e):e,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},s=/^[a-z][a-z0-9+\-.]*:/,c=async(t,e,n,i)=>{if(null!=t&&"#"!==t[0]&&!s.test(t)){const o=document.querySelector("ion-router");if(o)return null!=e&&e.preventDefault(),o.push(t,n,i)}return!1}},Gdn9:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("lJxs"),o=n("fXoL"),r=n("IheW");const s="http://localhost:3000/products";let c=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(s)}getById(t){return this.http.get(s).pipe(Object(i.a)(e=>e.find(e=>e.id===t)))}getByTag(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.tag===t)))}getByCategory(t){return this.http.get(s).pipe(Object(i.a)(e=>e.filter(e=>e.category===t)))}getByTagCategory(t,e){return this.http.get(s).pipe(Object(i.a)(n=>n.filter(n=>n.category===t&&n.tag===e)))}create(t){return this.http.post(s,t).toPromise()}update(t){return this.http.put(s+"/"+t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(r.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},JbSX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("wEJo"),o=n("qULd"),r=n("iWo5");const s=(t,e)=>{let n,s;const c=(t,i,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,i);r&&e(r)?r!==n&&(u(),a(r,o)):u()},a=(t,e)=>{n=t,s||(s=n);const o=n;Object(i.f)(()=>o.classList.add("ion-activated")),e()},u=(t=!1)=>{if(!n)return;const e=n;Object(i.f)(()=>e.classList.remove("ion-activated")),t&&s!==n&&n.click(),n=void 0};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>c(t.currentX,t.currentY,o.a),onMove:t=>c(t.currentX,t.currentY,o.b),onEnd:()=>{u(!0),Object(o.e)(),s=void 0}})}},Nf9K:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("mrSG"),o=n("fXoL"),r=n("ENZJ"),s=n("qfBg"),c=n("TEn/"),a=n("ofXK"),u=n("n4WL");const l=["content"];function d(t,e){if(1&t&&(o.Ob(0,"ion-item"),o.Ob(1,"ion-avatar",0),o.Kb(2,"img",7),o.Nb(),o.Ob(3,"ion-label"),o.Ob(4,"h4"),o.oc(5),o.Nb(),o.Ob(6,"p",8),o.oc(7),o.Nb(),o.Nb(),o.Nb()),2&t){const t=e.$implicit;o.zb(2),o.dc("src","../../../../assets/images/users/"+t.photoUrl,o.ic),o.zb(3),o.pc(t.username),o.zb(2),o.pc(t.body)}}let p=(()=>{class t{constructor(t,e,n,i){this._postService=t,this.serviceUser=e,this.modalController=n,this.popoverController=i}ngOnInit(){}ngAfterViewInit(){return Object(i.b)(this,void 0,void 0,function*(){this.posts$=this._postService.getPostsByProduct(this.produit.id),setTimeout(()=>{this.ionContent.nativeElement.scrollToBottom(250)},100)})}closeModal(){this.modalController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(s.a),o.Jb(c.Z),o.Jb(c.ab))},t.\u0275cmp=o.Db({type:t,selectors:[["app-modal-comment"]],viewQuery:function(t,e){if(1&t&&o.kc(l,!0,o.m),2&t){let t;o.ec(t=o.Xb())&&(e.ionContent=t.first)}},decls:18,vars:5,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back-sharp"],["content",""],["size","12"],[4,"ngFor","ngForOf"],[3,"product","user$"],[3,"src"],[1,"post-text"]],template:function(t,e){1&t&&(o.Ob(0,"ion-header"),o.Ob(1,"ion-toolbar"),o.Ob(2,"ion-buttons",0),o.Ob(3,"ion-button",1),o.Wb("click",function(){return e.closeModal()}),o.Kb(4,"ion-icon",2),o.Nb(),o.Nb(),o.Ob(5,"ion-title"),o.oc(6,"Comments"),o.Nb(),o.Nb(),o.Nb(),o.Ob(7,"ion-content",null,3),o.Ob(9,"ion-grid"),o.Ob(10,"ion-row"),o.Ob(11,"ion-col",4),o.Ob(12,"ion-list"),o.mc(13,d,8,3,"ion-item",5),o.Zb(14,"async"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(15,"ion-footer"),o.Ob(16,"ion-toolbar"),o.Kb(17,"app-popover-comment",6),o.Nb(),o.Nb()),2&t&&(o.zb(13),o.dc("ngForOf",o.ac(14,3,e.posts$)),o.zb(4),o.dc("product",e.produit)("user$",e.user$))},directives:[c.u,c.W,c.i,c.h,c.v,c.V,c.r,c.t,c.H,c.q,c.D,a.i,c.s,u.a,c.A,c.e,c.C],pipes:[a.b],styles:[".post-text[_ngcontent-%COMP%]{font-size:13px;margin:0 6px 4px}"]}),t})()},acej:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n("1vRN");const o=async(t,e,n,o,r)=>{if(t)return t.attachViewToDom(e,n,r,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return o&&o.forEach(t=>s.classList.add(t)),r&&Object.assign(s,r),e.appendChild(s),await new Promise(t=>Object(i.c)(s,t)),s},r=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},h3R7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i=t*e/n-t+"ms",o=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,o=t*i-t+"ms",r=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})}}},n4WL:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("mrSG"),o=n("fXoL"),r=n("TEn/"),s=n("Gdn9"),c=n("UbJi"),a=n("ENZJ"),u=n("ofXK");function l(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.dc("src",e.ngIf,o.ic)}function d(t,e){1&t&&o.Kb(0,"img",13),2&t&&o.dc("src","../../../assets/images/users/profil_32.png",o.ic)}let p=(()=>{class t{constructor(t,e,n,i){this.popoverController=t,this.serviceProduit=e,this._auth=n,this._postService=i}ngOnInit(){}getSmiley(t){return t.srcElement.innerText}sendComment(t){return Object(i.b)(this,void 0,void 0,function*(){const{uid:e=null}=yield this._auth.currentUser;this._postService.save({uid:e,productId:this.product.id,body:t.value}),this.popoverController.dismiss()})}ClosePopover(){this.popoverController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.ab),o.Jb(s.a),o.Jb(c.a),o.Jb(a.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-popover-comment"]],inputs:{product:"product",user$:"user$"},decls:37,vars:4,consts:[["fixed","",1,"ion-no-padding"],[1,"ion-no-padding"],["size","12",1,"ion-no-padding"],["lines","none"],[1,"smilies",3,"click"],["slot","start",1,"comment_avatar"],[3,"src",4,"ngIf","ngIfElse"],["default",""],[1,"inputComment"],["type","text","placeholder","Add a feed..."],["ic",""],["fill","clear","shape","round",3,"click"],["slot","end","name","send"],[3,"src"]],template:function(t,e){if(1&t){const t=o.Pb();o.Ob(0,"ion-grid",0),o.Ob(1,"ion-row",1),o.Ob(2,"ion-col",2),o.Ob(3,"ion-item",3),o.Ob(4,"ion-label",4),o.Wb("click",function(n){o.gc(t);const i=o.fc(34);return i.value=i.value+e.getSmiley(n)}),o.Ob(5,"span"),o.oc(6," \ud83d\udd25"),o.Nb(),o.Ob(7,"span"),o.oc(8," \ud83d\ude0a"),o.Nb(),o.Ob(9,"span"),o.oc(10," \ud83d\ude0d"),o.Nb(),o.Ob(11,"span"),o.oc(12," \ud83d\udc96"),o.Nb(),o.Ob(13,"span"),o.oc(14," \ud83d\udc4d"),o.Nb(),o.Ob(15,"span"),o.oc(16," \ud83d\udc4f"),o.Nb(),o.Ob(17,"span"),o.oc(18," \ud83c\udf3a"),o.Nb(),o.Ob(19,"span"),o.oc(20," \u2757"),o.Nb(),o.Ob(21,"span"),o.oc(22," \ud83d\uded1"),o.Nb(),o.Ob(23,"span"),o.oc(24," \u2695\ufe0f"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Ob(25,"ion-col",2),o.Ob(26,"ion-item",3),o.Ob(27,"ion-avatar",5),o.mc(28,l,1,1,"img",6),o.Zb(29,"async"),o.mc(30,d,1,1,"ng-template",null,7,o.nc),o.Nb(),o.Ob(32,"ion-item",8),o.Kb(33,"ion-input",9,10),o.Ob(35,"ion-button",11),o.Wb("click",function(){o.gc(t);const n=o.fc(34);return e.sendComment(n)}),o.Kb(36,"ion-icon",12),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=o.fc(31);let n=null;o.zb(28),o.dc("ngIf",null==(n=o.ac(29,2,e.user$))?null:n.photoUrl)("ngIfElse",t)}},directives:[r.t,r.H,r.q,r.A,r.C,r.e,u.j,r.z,r.db,r.h,r.v],pipes:[u.b],styles:["span[_ngcontent-%COMP%]{margin-right:8px;width:30px;height:30px}.smilies[_ngcontent-%COMP%]{display:flex;overflow:scroll}.inputComment[_ngcontent-%COMP%]{--border-width:0.2px!important;--border-color:var(--ion-color-medium);--border-radius:30px;font-size:12px}"]}),t})()},qULd:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return c});const i={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},o=()=>{i.selection()},r=()=>{i.selectionStart()},s=()=>{i.selectionChanged()},c=()=>{i.selectionEnd()},a=t=>{i.impact(t)}},qfBg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("Jgta"),o=n("fXoL"),r=n("wD+u"),s=n("UbJi"),c=n("tyNb");let a=(()=>{class t{constructor(t,e,n){this._af=t,this._auth=e,this._router=n}registerWithEmailPwd(t){this._auth.createUserWithEmailAndPassword(t.email,t.password).then(e=>{this._SetUserData({uid:e.user.uid,lastName:t.lastName,firstName:t.firstName,username:t.username,email:t.email})})}GoogleAuth(){this.AuthLogin(new i.a.auth.GoogleAuthProvider)}AuthLogin(t){this._auth.signInWithPopup(t).then(t=>{const e={username:null==t?void 0:t.user.displayName,email:null==t?void 0:t.user.email,uid:null==t?void 0:t.user.uid,photoUrl:null==t?void 0:t.user.photoURL};this._af.doc("users/"+e.uid).set(e,{merge:!0}),this._router.navigate(["home"])}).catch(t=>{window.alert(t)})}_SetUserData(t){return this._af.doc("users/"+t.uid).set({uid:t.uid,email:t.email,username:t.username,lastName:t.lastName},{merge:!0})}getByUid(t){return this._af.doc("users/"+t).valueChanges()}getAll(){return this._af.collection("users").valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(r.a),o.Sb(s.a),o.Sb(c.e))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);